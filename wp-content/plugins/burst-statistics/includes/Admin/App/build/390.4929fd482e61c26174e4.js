"use strict";(self.webpackChunk_burst_statistics_burst_statistics=self.webpackChunk_burst_statistics_burst_statistics||[]).push([[390],{8686:(e,t,r)=>{r.d(t,{A:()=>g});var n=r(91637),a=r(51609),s=r(61626),i=r(53411),o=r(91788),l=r(53576),c=r.n(l),u=r(30346),d=r(3663),f=r(27723);const p=(0,u.v)(function(e,t){return{postsLoaded:!1,fetching:!1,posts:[],search:"",maxPostCount:100,filterPosts:function(e,t){return e.filter(function(e){return Object.values(e).some(function(e){return e.toString().toLowerCase().includes(t.toLowerCase())})})},fetchPosts:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return a=void 0,s=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([],r,!0),o=function(r){var n,a,s,i,o,l;return void 0===r&&(r=""),function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(c){switch(c.label){case 0:return n=t().search,a=!1,s=t().posts.length<t().maxPostCount,0<n.length&&0===r.length&&(a=!0),n.length>r.length&&(a=!0),i=!1,0<n.length&&0===r.indexOf(n)&&(i=!0),!a&&t().postsLoaded&&i&&s?(e({fetching:!1}),[2,t().filterPosts(t().posts,r)]):(e({search:r,fetching:!0}),!a&&t().postsLoaded&&r===n||!a&&t().postsLoaded&&3>r.length&&i?(e({fetching:!1}),[2,t().filterPosts(t().posts,r)]):[4,(0,d.K5)(r)]);case 1:return o=c.sent(),l=(o||[]).map(function(e){return{value:e.page_url,label:e.page_url,page_id:e.page_id,post_title:0<e.post_title.length?e.post_title:(0,f.__)("Untitled","burst-statistics"),pageviews:e.pageviews}}),e({posts:l,postsLoaded:!0,maxPostsCount:o.max_post_count,fetching:!1}),[2,t().filterPosts(l,r)]}})},new((i=void 0)||(i=Promise))(function(e,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function n(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof i?a:new i(function(e){e(a)})).then(r,n)}l((o=o.apply(a,s||[])).next())});var a,s,i,o}}});var b=r(24454),m=r(90902),h=function(){return h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},h.apply(this,arguments)},v=(0,a.forwardRef)(function(e){var t,r=e.field,i=e.fieldState,o=e.label,l=e.help,u=e.context,d=e.className,f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),v=f.id||(null==r?void 0:r.name),g=p().fetchPosts,x=(0,a.useState)(""),j=x[0],w=x[1],_=f.maxSelections||1,N=(0,s.I)({queryKey:["defaultPosts",j],queryFn:function(){return g(j)}}),O=c()(function(e,t){return r=void 0,n=void 0,s=function(){var r;return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(n){switch(n.label){case 0:return w(e),[4,g(e)];case 1:return r=n.sent(),t(r),[2]}})},new((a=void 0)||(a=Promise))(function(e,t){function i(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a(function(e){e(r)})).then(i,o)}l((s=s.apply(r,n||[])).next())});var r,n,a,s},500);return(0,n.jsx)(m.A,h({label:o,help:l,error:null===(t=null==i?void 0:i.error)||void 0===t?void 0:t.message,context:u,className:d,inputId:v,required:f.required,recommended:f.recommended,disabled:f.disabled},f,{children:(0,n.jsx)(b.A,{onChange:function(e){if(1===_)(null==e?void 0:e.value)?f.onChange(e.value):f.onChange("");else{var t=e?e.map(function(e){return e.value}):[];f.onChange(t)}},isLoading:N.isFetching,name:"selectPage",value:null==r?void 0:r.value,maxSelections:_,defaultInputValue:null==r?void 0:r.value,defaultOptions:N.data||[],loadOptions:O,components:{Option:y}})}))});v.displayName="SelectPageField";const g=v;var y=function(e){var t=e.innerProps,r=e.innerRef,a=e.data;return(0,n.jsxs)("article",h({ref:r},t,{className:"flex items-center justify-between p-2 hover:bg-gray-100 cursor-pointer transition-colors duration-200",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("h6",{className:"text-sm font-medium text-black",children:a.label}),"Untitled"!==a.post_title&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"mx-2 text-gray-500",children:" - "}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:a.post_title})]})]}),0<a.pageviews&&(0,n.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,n.jsx)(i.A,{name:"eye",size:12}),(0,n.jsx)("span",{children:(0,o.ZV)(a.pageviews)})]})]}))}},10371:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(91637),a=r(51609),s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)},i=(0,a.forwardRef)(function(e,t){var r=e.type,a=void 0===r?"text":r,i=e.className,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["type","className"]);return(0,n.jsx)("input",s({ref:t,type:a,className:"w-full rounded-md border border-gray-400 p-2 focus:border-primary-dark focus:outline-none focus:ring disabled:cursor-not-allowed disabled:border-gray-200 disabled:bg-gray-200 ".concat(i||"")},o))});i.displayName="TextInput";const o=i},11989:(e,t,r)=>{r.d(t,{t:()=>o});var n=r(91637),a=r(51609),s=r(2573),i=function(e){void 0===e&&(e="");var t=/\bp-\S+/.test(e),r=/\bpx-\S+/.test(e),n=/\bpy-\S+/.test(e),a=/\bpt-\S+/.test(e),s=/\bpr-\S+/.test(e),i=/\bpb-\S+/.test(e),o=/\bpl-\S+/.test(e),l=[];return t||r||l.push("px-2.5","md:px-6"),t||n||l.push("py-6"),t||r||o||l.push("pl-2.5","md:pl-6"),t||r||s||l.push("pr-2.5","md:pr-6"),t||n||a||l.push("pt-6"),t||n||i||l.push("pb-6"),l.join(" ")},o=(0,a.memo)(function(e){var t=e.children,r=e.className,a=void 0===r?"":r;return(0,n.jsx)("div",{className:(0,s.A)("flex-grow",i(a),a),children:t})});o.displayName="BlockContent"},24454:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(91637),a=r(51609),s=r(29436),i=r(66087),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},l=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},c=(0,a.forwardRef)(function(e,t){var r=e.value,c=e.onChange,u=e.loadOptions,d=e.defaultOptions,f=void 0===d?[]:d,p=e.isLoading,b=void 0!==p&&p,m=e.isSearchable,h=void 0===m||m,v=e.name,g=e.disabled,y=void 0!==g&&g,x=e.placeholder,j=void 0===x?"Select an option...":x,w=e.insideModal,_=void 0!==w&&w,N=e.maxSelections,O=void 0===N?1:N,S=e.showRemoveButton,k=void 0===S||S,A=e.allowCustomValue,C=void 0===A||A,P=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["value","onChange","loadOptions","defaultOptions","isLoading","isSearchable","name","disabled","placeholder","insideModal","maxSelections","showRemoveButton","allowCustomValue"]),I=(0,a.useState)([]),D=I[0],E=I[1],F=(0,a.useState)(""),L=F[0],R=F[1],T=(0,a.useState)(b),q=T[0],z=T[1];(0,a.useEffect)(function(){z(b)},[b]);var G=(0,a.useMemo)(function(){return(0,i.debounce)(function(e){u&&(z(!0),u(e,function(e){E(e),z(!1)}))},150)},[u]);(0,a.useEffect)(function(){return function(){G.cancel()}},[G]),(0,a.useEffect)(function(){Array.isArray(f)?E(f):!0===f&&u&&(z(!0),u("",function(e){E(e),z(!1)}))},[f,u]);var M=function(){if(!r)return[];if(Array.isArray(r))return r.map(function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"value")&&Object.prototype.hasOwnProperty.call(e,"label")?e:D.find(function(t){return t.value===e})||{value:e,label:e.toString()}});if("object"==typeof r&&Object.prototype.hasOwnProperty.call(r,"value")&&Object.prototype.hasOwnProperty.call(r,"label"))return[r];var e=D.find(function(e){return e.value===r});return e?[e]:[{value:r,label:r.toString()}]}(),U=D.filter(function(e){return!M.some(function(t){return t.value===e.value})}),V=C&&""!==L.trim()&&(0===D.length||!D.some(function(e){var t;return(null!==(t=e.label)&&void 0!==t?t:"").toLowerCase()===L.toLowerCase()})&&!M.some(function(e){var t;return(null!==(t=e.label)&&void 0!==t?t:"").toLowerCase()===L.toLowerCase()}));V&&(U=l([{value:L.trim(),label:L.trim(),isCustom:!0}],U,!0));var B=(0,s.mH)({selectedItems:M,onStateChange:function(e){var t=e.selectedItems;switch(e.type){case s.mH.stateChangeTypes.SelectedItemKeyDownBackspace:case s.mH.stateChangeTypes.SelectedItemKeyDownDelete:case s.mH.stateChangeTypes.DropdownKeyDownBackspace:case s.mH.stateChangeTypes.FunctionRemoveSelectedItem:t&&c(1===O?0<t.length?t[0]:null:t)}}}),K=B.getSelectedItemProps,$=B.getDropdownProps,W=(0,s.Bp)({items:U,selectedItem:null,inputValue:L,stateReducer:function(e,t){var r=t.changes;switch(t.type){case s.Bp.stateChangeTypes.InputKeyDownEnter:case s.Bp.stateChangeTypes.ItemClick:return o(o({},r),{isOpen:1<O,highlightedIndex:0,inputValue:""});default:return r}},onStateChange:function(e){var t=e.type,r=e.selectedItem,n=e.inputValue;switch(t){case s.Bp.stateChangeTypes.InputKeyDownEnter:case s.Bp.stateChangeTypes.ItemClick:if(r)if(1===O)c(r),R("");else if(M.length<O){var a=l(l([],M,!0),[r],!1);c(a),R("")}break;case s.Bp.stateChangeTypes.InputChange:R(n||""),u&&h&&G(n||"")}},itemToString:function(e){return e?e.label:""}}),H=W.isOpen,Q=W.getToggleButtonProps,Y=W.getInputProps,Z=W.getMenuProps,J=W.getItemProps,X=W.highlightedIndex,ee=W.getComboboxProps,te=function(e){var t=M.filter(function(t){return t.value!==e.value});c(1===O?0<t.length?t[0]:null:t)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",o({},ee(),{className:"flex min-h-[2.5rem] w-full rounded-md border border-gray-400 bg-white focus-within:border-primary-dark focus-within:ring disabled:cursor-not-allowed disabled:border-gray-200 disabled:bg-gray-200",children:[(0,n.jsxs)("div",{className:"flex flex-1 flex-wrap items-center gap-1 p-1",children:[M.map(function(e,t){return(0,n.jsxs)("span",o({},K({selectedItem:e,index:t}),{className:"inline-flex items-center gap-1 rounded bg-primary-light px-2 py-1 text-xs text-primary-dark focus:bg-primary focus:text-white focus:outline-none",children:[e.label,k&&(0,n.jsx)("button",{type:"button",onClick:function(t){t.stopPropagation(),te(e)},className:"ml-1 rounded-full hover:bg-primary hover:text-white focus:bg-primary focus:text-white focus:outline-none","aria-label":"Remove ".concat(e.label),children:(0,n.jsx)("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),"selected-item-".concat(t))}),(1===O||M.length<O)&&(0,n.jsx)("input",o({},Y($(o(o(o({preventKeyAction:H},t?{ref:t}:{}),{name:v,disabled:y,placeholder:0===M.length?j:1<O?"Add ".concat(O-M.length," more..."):"",readOnly:!h,onKeyDown:function(e){if("Backspace"===e.key&&""===L&&0<M.length){e.preventDefault();var t=M[M.length-1];te(t)}}}),P))),{className:"flex-1 min-w-[120px] border-none bg-transparent p-1 focus:outline-none disabled:cursor-not-allowed",style:{outline:"none"}}))]}),(0,n.jsxs)("div",{className:"flex items-center border-l border-gray-300",children:[0<O&&(0,n.jsxs)("span",{className:"px-2 text-xs text-gray-500 border-r border-gray-200",children:[M.length,"/",O]}),(0,n.jsx)("button",o({type:"button"},Q({disabled:y}),{className:"flex items-center justify-center bg-transparent px-2 py-2 hover:bg-gray-100 focus:border-primary-dark focus:outline-none disabled:cursor-not-allowed disabled:bg-gray-200","aria-label":"Toggle menu",children:q?(0,n.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-primary"}):(0,n.jsx)("svg",{className:"h-4 w-4 transition-transform ".concat(H?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}))]})]})),(0,n.jsx)("div",o({},Z(),{className:"w-full ".concat(_?"fixed":""," ").concat(H?"":"hidden"),children:(0,n.jsxs)("ul",{className:"relative top-0 z-[9999] max-h-60 overflow-y-auto w-full rounded-md border border-gray-300 bg-white shadow-lg ".concat(H&&U.length?"":"hidden"),children:[U.map(function(e,t){return(0,n.jsx)("li",o({},J({item:e,index:t}),{className:"cursor-pointer px-3 py-2 text-sm first:rounded-t-md last:rounded-b-md ".concat(X===t?"bg-primary-light text-primary-dark":"hover:bg-gray-100"),children:e.isCustom?(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)("svg",{className:"h-4 w-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),'Create "',e.label,'"']}):e.label}),e.value)}),0===U.length&&!q&&(0,n.jsx)("li",{className:"px-3 py-2 text-sm text-gray-500",children:M.length>=O?"Maximum ".concat(O," selection").concat(1<O?"s":""," reached"):"No options found"})]})}))]})});c.displayName="AsyncSelectInput";const u=c},28786:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(91637),a=r(9564),s=r(27723);const i=function(e){var t=e.content,r=e.side,i=void 0===r?"top":r,o=e.hasArrow,l=void 0===o||o,c=e.delayDuration,u=void 0===c?300:c,d=e.children;return(0,n.jsx)(a.Kq,{delayDuration:u,children:(0,n.jsxs)(a.bL,{children:[(0,n.jsx)(a.l9,{"aria-label":(0,s.__)("Help information","burst-statistics"),onClick:function(e){e.preventDefault(),e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},children:d}),(0,n.jsxs)(a.UC,{side:i,sideOffset:5,className:"z-[99999] max-w-xs bg-gray-200 text-gray border border-gray-300 px-2 py-1.5 text-base rounded shadow-md\n            animate-in fade-in-50 data-[state=closed]:animate-out data-[state=closed]:fade-out-0\n            data-[state=delayed-open]:data-[side=top]:slide-in-from-bottom-2\n            data-[state=delayed-open]:data-[side=bottom]:slide-in-from-top-2\n            data-[state=delayed-open]:data-[side=left]:slide-in-from-right-2\n            data-[state=delayed-open]:data-[side=right]:slide-in-from-left-2",onClick:function(e){return e.stopPropagation()},children:["string"==typeof t?(0,s.__)(t,"burst-statistics"):t,l&&(0,n.jsx)(a.i3,{className:"fill-gray-300",width:10,height:5})]})]})})}},31980:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(91637);const a=function(e){var t=e.children,r=e.className,a=void 0===r?"":r;return(0,n.jsx)("div",{className:"absolute inset-0 flex items-end justify-center bg-black/10 z-50 py-4 px-4 ".concat(a),children:(0,n.jsx)("div",{className:"bg-white rounded-lg px-5 py-3  w-[90%] max-w-md relative shadow-md",children:t})})}},32531:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(91637),a=r(27723);const s=function(e){var t=e.className,r=void 0===t?"":t;return(0,n.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary bg-opacity-10 text-primary ".concat(r),children:(0,a.__)("Recommended","burst-statistics")})}},61445:(e,t,r)=>{r.d(t,{A:()=>m,l:()=>b});var n=r(61626),a=r(70802),s=r(78280),i=r(3663),o=r(21587),l=r(27723),c=r(89085),u=r(84400),d=function(){return d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},d.apply(this,arguments)},f=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},p=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},b=function(e){return e.map(function(t){var r=d({},t);if(t.react_conditions){var n=function(e,t){return!e||0===Object.keys(e).length||Object.entries(e).some(function(e){var r=e[0],n=e[1],a=t.find(function(e){return e.id===r});if(!a)return!1;var s=a.value;return!!s&&n.includes(s)})}(t.react_conditions,e);"disable"===t.condition_action?r.disabled=!n:r.conditionallyDisabled=!n}return r})};const m=function(){var e,t,r,b=(0,a.jE)(),m=(0,u.A)().isPro,h=(0,n.I)({queryKey:["goals_data"],queryFn:function(){return f(void 0,void 0,void 0,function(){var e;return p(this,function(t){switch(t.label){case 0:return[4,(0,i.DX)()];case 1:return[2,{goals:(e=t.sent()).goals||[],predefinedGoals:e.predefinedGoals||[],goalFields:Object.values(e.goalFields||{})}]}})})},retry:1}),v=(0,s.n)({mutationFn:function(){return f(void 0,void 0,void 0,function(){var e,t;return p(this,function(r){switch(r.label){case 0:return e=(null===(t=b.getQueryData(["goals_data"]))||void 0===t?void 0:t.goals)||[],[4,(0,i.d2)({goals:e})];case 1:return[2,r.sent()]}})})},onSuccess:function(){},onError:function(e){console.error(e),o.oR.error((0,l.__)("Failed to save goals","burst-statistics"))}}),g=(0,s.n)({mutationFn:function(e){return f(void 0,[e],void 0,function(e){var t,r=e.id,n=e.value;return p(this,function(e){switch(e.label){case 0:return t=[{id:r,title:n}],[4,(0,i.d2)({goals:t})];case 1:return[2,e.sent()]}})})},onError:function(e){console.error(e),o.oR.error((0,l.__)("Failed to save goal title","burst-statistics"))}}),y=(0,s.n)({mutationFn:function(){return f(void 0,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,(0,i.D)()];case 1:return[2,e.sent()]}})})},onSuccess:function(e){b.setQueryData(["goals_data"],function(t){return t?(0,c.jM)(t,function(t){t.goals.push(e.goal)}):t}),o.oR.success((0,l.__)("Goal added successfully!","burst-statistics"))},onError:function(e){console.error(e),o.oR.error((0,l.__)("Failed to add goal","burst-statistics"))}}),x=(0,s.n)({mutationFn:function(e){return f(void 0,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,(0,i.$x)(e)];case 1:return[2,t.sent()]}})})},onSuccess:function(e,t){e.deleted&&(b.setQueryData(["goals_data"],function(e){return e?(0,c.jM)(e,function(e){if(1===e.goals.length)e.goals=[];else{var r=e.goals.findIndex(function(e){return e.id===t});-1!==r&&e.goals.splice(r,1)}}):e}),o.oR.success((0,l.__)("Goal deleted successfully!","burst-statistics")))},onError:function(e){console.error(e),o.oR.error((0,l.__)("Failed to delete goal","burst-statistics"))}}),j=(0,s.n)({mutationFn:function(e){return f(void 0,[e],void 0,function(e){var t=e.predefinedGoalId;return p(this,function(e){switch(e.label){case 0:if(!m)throw new Error((0,l.__)("Predefined goals are a premium feature.","burst-statistics"));return[4,(0,i.ZI)(t)];case 1:return[2,e.sent()]}})})},onSuccess:function(e){b.setQueryData(["goals_data"],function(t){return t?(0,c.jM)(t,function(t){t.goals.push(e.goal)}):t}),o.oR.success((0,l.__)("Successfully added predefined goal!","burst-statistics"))},onError:function(e){console.error(e),o.oR.error(e.message||(0,l.__)("Failed to add predefined goal","burst-statistics"))}});return{goals:(null===(e=h.data)||void 0===e?void 0:e.goals)||[],goalFields:(null===(t=h.data)||void 0===t?void 0:t.goalFields)||[],predefinedGoals:(null===(r=h.data)||void 0===r?void 0:r.predefinedGoals)||[],isLoading:h.isLoading,isError:h.isError,getGoal:function(e){var t,r=(null===(t=h.data)||void 0===t?void 0:t.goals)||[];if(!Array.isArray(r))return!1;var n=r.findIndex(function(t){return t.id==e});return-1!==n&&r[n]},setGoalValue:function(e,t,r){b.setQueryData(["goals_data"],function(n){return n?(0,c.jM)(n,function(n){var a=n.goals.findIndex(function(t){return t.id===e});-1!==a&&(n.goals[a][t]=r)}):n})},updateGoal:function(e,t){b.setQueryData(["goals_data"],function(r){return r?(0,c.jM)(r,function(r){var n=r.goals.findIndex(function(t){return t.id===e});-1!==n&&(r.goals[n]=d(d({},r.goals[n]),t))}):r})},getGoalAsync:function(e){return f(void 0,void 0,void 0,function(){var t,r;return p(this,function(n){switch(n.label){case 0:return[4,b.ensureQueryData({queryKey:["goals_data"],queryFn:i.DX})];case 1:return t=n.sent(),[2,(null===(r=null==t?void 0:t.goals)||void 0===r?void 0:r.find(function(t){return String(t.id)===String(e)}))||null]}})})},saveGoals:v.mutateAsync,saveGoalTitle:function(e,t){return g.mutateAsync({id:e,value:t})},addGoal:y.mutateAsync,deleteGoal:x.mutateAsync,addPredefinedGoal:function(e){return j.mutateAsync({predefinedGoalId:e})},invalidateGoals:function(){return b.invalidateQueries(["goals_data"])}}}},65825:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(91637),a=r(51609),s=r(27723),i=r(53411),o=(0,a.forwardRef)(function(e,t){var r=e.id,a=e.name,o=e.value,l=e.label,c=e.checked,u=e.disabled,d=void 0!==u&&u,f=e.onChange,p=e.className,b=void 0===p?"":p,m=e.tooltip,h=void 0===m?"":m,v=e.recommended,g=void 0!==v&&v,y=e.children;return(0,n.jsxs)("div",{className:"flex items-center gap-2 ".concat(b),children:[(0,n.jsx)("input",{ref:t,type:"radio",id:r,name:a,value:o,checked:c,disabled:d,onChange:function(e){return f(e.target.value)},className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 my-1 mx-0 relative before:content-[''] before:m-0 before:absolute before:left-1/2 before:top-1/2 before:-translate-x-1/2 before:-translate-y-1/2"}),(0,n.jsxs)("label",{htmlFor:r,className:"text-sm text-gray cursor-pointer",children:[l," ",y," ",g&&(0,n.jsxs)("span",{className:"text-xs font-semibold",children:["(",(0,s.__)("Recommended","burst-statistics"),")"]})]}),h&&(0,n.jsx)(i.A,{tooltip:h,color:"blue",name:"help",size:16,className:"bg-blue-light rounded-full"})]})});o.displayName="RadioInput";const l=o},67744:(e,t,r)=>{r.d(t,{q:()=>i});var n=r(91637),a=r(51609),s=r(2573),i=(0,a.memo)(function(e){var t=e.title,r=e.controls,a=e.className,i=void 0===a?"":a;return(0,n.jsxs)("div",{className:(0,s.A)(i,"flex min-h-14 items-center justify-between px-2.5 md:px-6 md:min-h-16 gap-4"),children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:t}),r]})});i.displayName="BlockHeading"},77902:(e,t,r)=>{r.d(t,{e:()=>i});var n=r(91637),a=r(2573),s=r(23130),i=(0,r(51609).memo)(function(e){var t=e.className,r=void 0===t?"":t,i=e.children;return(0,n.jsx)(s.A,{children:(0,n.jsx)("div",{className:(0,a.A)("col-span-12 flex flex-col rounded-xl bg-white shadow-sm relative border border-gray-300",r),children:i})})});i.displayName="Block"},78548:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(91637),a=r(51609),s=r(2573),i=r(53411),o=(0,a.forwardRef)(function(e,t){var r=e.inputId,a=e.options,o=e.value,l=e.columns,c=void 0===l?2:l,u=e.disabled,d=void 0!==u&&u,f=e.goalId,p=e.onChange,b=e.className,m=void 0===b?"":b,h=f?"".concat(f,"-").concat(r):r;return(0,n.jsx)("div",{className:(0,s.A)("burst-radio-buttons__list grid gap-4",function(e){switch(e){case 1:return"grid-cols-1";case 2:default:return"grid-cols-2";case 3:return"grid-cols-3";case 4:return"grid-cols-4"}}(c),m),ref:t,children:Object.keys(a).map(function(e){var t=a[e],r="".concat(h,"-").concat(t.type),l=t.type===o;return(0,n.jsxs)("div",{className:"w-full bg-gray-200 rounded-m",children:[(0,n.jsx)("input",{type:"radio",checked:l,name:h,id:r,value:t.type,disabled:d,onChange:function(e){p(e.target.value)},className:"sr-only opacity-0 absolute"}),(0,n.jsxs)("label",{htmlFor:r,className:(0,s.A)("flex gap-2.5 m-[1px] items-start space-x-3 p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer","focus-within:ring-2 focus-within:ring-primary focus-within:ring-offset-2",{"border-primary bg-primary-light":l,"border-gray-300 hover:border-gray-400 bg-white hover:bg-gray-50":!l,"opacity-50 cursor-not-allowed":d}),children:[(0,n.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,n.jsx)("div",{className:(0,s.A)("w-4 h-4 rounded-full border-2 transition-all duration-200 flex items-center justify-center",{"border-primary bg-primary":l,"border-gray-300 bg-white":!l}),children:l&&(0,n.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})})}),(0,n.jsxs)("div",{className:"flex items-center flex-row min-w-0 gap-1",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(i.A,{name:t.icon,size:18,className:"flex-shrink-0"}),(0,n.jsx)("h5",{className:(0,s.A)("text-base font-medium transition-colors text-gray-900"),children:t.label})]}),t.description&&1<t.description.length&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-px bg-gray-400 mx-3 h-5"}),(0,n.jsx)("p",{className:(0,s.A)("text-sm transition-colors truncate",{"text-gray-600":l,"text-gray-500":!l}),children:t.description})]})]})]})]},r)})})});o.displayName="RadioButtonsInput";const l=o},90902:(e,t,r)=>{r.d(t,{A:()=>h});var n=r(91637),a=r(51609),s=r.n(a),i=r(76713),o=r(27723),l=r(2573),c=r(32531);const u=function(e){var t=e.className,r=void 0===t?"":t;return(0,n.jsx)("span",{className:"inline-flex items-center rounded bg-gray-300 px-2 py-0.5 text-xs font-medium text-gray ".concat(r),children:(0,o.__)("Disabled","burst-statistics")})};var d=r(35812),f=r(28786),p=r(84400),b=function(e){return e&&"object"==typeof e&&!s().isValidElement(e)},m=(0,a.memo)(function(e){var t=e.label,r=e.context,a=e.help,s=e.error,m=e.reverseLabel,h=void 0!==m&&m,v=e.alignWithLabel,g=void 0!==v&&v,y=e.fullWidthContent,x=void 0!==y&&y,j=e.className,w=void 0===j?"":j,_=e.inputId,N=e.required,O=void 0!==N&&N,S=e.recommended,k=void 0!==S&&S,A=e.disabled,C=void 0!==A&&A,P=e.children,I=e.warning,D=e.pro,E=(0,p.A)().isLicenseValid,F=(0,l.$)(w,"w-full py-4 box-border",!x&&"px-6",s&&"bg-red-light"),L=g?"flex flex-row items-center justify-between":"flex flex-col",R=h?"order-2":"order-1",T=h?"order-1":"order-2",q=g?h?"ml-4":"":h?"mt-2":"",z=g?h?"":"ml-4":h?"":"mt-2",G=(0,n.jsxs)("div",{className:(0,l.$)("flex items-center gap-2",q,x&&"px-6"),children:[(0,n.jsx)(i.b,{className:"cursor-pointer text-md font-medium text-black",htmlFor:_,children:t}),O&&(0,n.jsxs)("span",{className:"ml-1 text-xs font-normal text-gray",children:["(",(0,o.__)("Required","burst-statistics"),")"]}),k&&(0,n.jsx)(c.A,{}),C&&!D&&(0,n.jsx)(u,{}),D&&!E&&(0,n.jsx)(d.A,{id:_,url:D.url}),a&&(0,n.jsx)(f.A,{content:a,children:(0,n.jsx)("span",{className:"inline-flex h-5 w-5 cursor-default items-center justify-center rounded-full border border-gray-400 bg-gray-200 text-center text-base leading-none text-gray hover:bg-gray-300 hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary",children:"?"})})]}),M=(0,n.jsx)("div",{className:(0,l.$)("w-full",z,x&&"px-0"),children:P});return(0,n.jsxs)("div",{className:F+" burst_field_"+_,children:[(0,n.jsxs)("div",{className:L,children:[(0,n.jsx)("div",{className:(0,l.$)(R),children:G}),(0,n.jsx)("div",{className:(0,l.$)(T),children:M})]}),s&&(0,n.jsx)("p",{className:"mt-2 text-sm font-semibold text-red",role:"alert",children:s}),I&&(0,n.jsx)("p",{className:"mt-2 text-sm font-semibold text-orange",role:"alert",children:I}),r&&(0,n.jsxs)("p",{className:"mt-2 text-sm font-normal text-gray",children:[b(r)?r.text:r,b(r)&&r.url&&" ",b(r)&&r.url&&(0,n.jsx)("a",{className:"text-blue underline",href:r.url,target:"_blank",children:(0,o.__)("More info","burst-statistics")})]})]})});m.displayName="FieldWrapper";const h=m},91390:(e,t,r)=>{r.r(t),r.d(t,{component:()=>Bt});var n=r(91637),a=r(51609),s=r(23130),i=r(61445),o=r(77902),l=r(67744),c=r(11989),u=r(21632),d=r(10371),f=r(90902),p=function(){return p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},p.apply(this,arguments)},b=(0,a.forwardRef)(function(e){var t,r,a=e.field,s=e.fieldState,i=e.label,o=e.help,l=e.context,c=e.className,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),b=u.id||a.name;return(0,n.jsx)(f.A,p({label:i,help:o,error:null===(t=null==s?void 0:s.error)||void 0===t?void 0:t.message,context:l,className:c,inputId:b,required:u.required,recommended:u.recommended,disabled:u.disabled},u,{children:(0,n.jsx)(d.A,p({id:b,type:"text","aria-invalid":!!(null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message)},a,u))}))});b.displayName="TextField";const m=b;var h=function(){return h=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},h.apply(this,arguments)},v=(0,a.forwardRef)(function(e,t){var r=e.type,a=void 0===r?"hidden":r,s=e.className,i=void 0===s?"":s,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["type","className"]);return(0,n.jsx)("input",h({className:i,ref:t,type:a},o))});v.displayName="HiddenInput";const g=v;var y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},y.apply(this,arguments)},x=(0,a.forwardRef)(function(e){var t,r=e.field,a=e.fieldState,s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState"]),i=s.id||r.name;return(0,n.jsx)(g,y({},r,{id:i,type:"hidden","aria-invalid":!!(null===(t=null==a?void 0:a.error)||void 0===t?void 0:t.message)},s))});x.displayName="HiddenField";const j=x;var w=r(27723),_=function(){return _=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_.apply(this,arguments)},N=(0,a.forwardRef)(function(e,t){var r=e.className,a=e.rows,s=void 0===a?4:a,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["className","rows"]);return(0,n.jsx)("textarea",_({ref:t,rows:s,className:"w-full rounded-md border border-gray-400 p-2 focus:border-primary-dark focus:outline-none focus:ring disabled:cursor-not-allowed disabled:border-gray-200 disabled:bg-gray-200 ".concat(r||"")},i))});N.displayName="TextAreaInput";const O=N;var S=function(){return S=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},S.apply(this,arguments)},k=(0,a.forwardRef)(function(e){var t,r,a=e.field,s=e.fieldState,i=e.label,o=e.help,l=e.context,c=e.className,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),d=u.id||a.name;return(0,n.jsx)(f.A,S({label:i,help:o,error:null===(t=null==s?void 0:s.error)||void 0===t?void 0:t.message,context:l,className:c,inputId:d,required:u.required,recommended:u.recommended,disabled:u.disabled},u,{children:(0,n.jsx)(O,S({id:d,"aria-invalid":!!(null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message)},a,u))}))});k.displayName="TextAreaField";const A=k;var C=r(50552),P=function(){return P=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},P.apply(this,arguments)},I=(0,a.forwardRef)(function(e,t){var r,a,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),p=d.id||s.name,b=burst_settings.current_ip,m=s.value||"";return(0,n.jsx)(f.A,P({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:p,required:d.required,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsxs)("div",{className:"space-y-2 w-full",children:[(0,n.jsx)(O,P({ref:t,id:p,placeholder:"127.0.0.1\n192.168.0.1","aria-invalid":!!(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.message),onChange:function(e){var t=e.target.value;s.onChange(t)},value:m,rows:4},d)),(0,n.jsx)(C.A,{onClick:function(){if(b){var e,t=(m||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");e=0===t.split("\n").map(function(e){return e.trim()}).filter(function(e){return""!==e}).length||""===t.trim()?b:t.endsWith("\n")?t+b:t+"\n"+b,s.onChange(e)}},disabled:!b||!b||m.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").map(function(e){return e.trim()}).filter(function(e){return""!==e}).includes(b),btnVariant:"tertiary",size:"md",children:(0,w.__)("Add current IP address","burst-statistics")})]})}))});I.displayName="IpBlockField";const D=I;var E=r(94976),F=function(){return F=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},F.apply(this,arguments)},L=(0,a.forwardRef)(function(e,t){var r,a,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),p=d.id||s.name;return(0,n.jsx)(f.A,F({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,className:u+" flex-row",inputId:p,required:d.required,alignWithLabel:!0,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(E.A,F({},s,{id:p,"aria-invalid":!!(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.message),ref:t},d))}))});L.displayName="SwitchField";const R=L;var T=r(98371),q=r(21587),z=r(3663),G=function(){return G=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},G.apply(this,arguments)},M=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},U=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const V=function(e){var t=e.label,r=e.action,s=e.buttonText,i=e.warnTitle,o=e.warnContent,l=e.warnType,c=e.url,u=e.disabled,d=e.onClick,f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["label","action","buttonText","warnTitle","warnContent","warnType","url","disabled","onClick"]),p=(0,a.useState)(!1),b=p[0],m=p[1],h=(0,a.useState)(!1),v=h[0],g=h[1],y=s||t,x=function(){return M(void 0,void 0,void 0,function(){var e,t;return U(this,function(n){switch(n.label){case 0:if(!r)return[2];g(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,z.Eo(r,{})];case 2:return(e=n.sent()).success?q.oR.success(e.message||(0,w.__)("Action completed successfully","burst-statistics")):q.oR.error(e.message||(0,w.__)("Action failed","burst-statistics")),[3,5];case 3:return t=n.sent(),q.oR.error((0,w.__)("An error occurred while executing the action","burst-statistics")),console.error("Action execution error:",t),[3,5];case 4:return g(!1),[7];case 5:return[2]}})})},j=function(){m(!1)};return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.A,G({onClick:function(e){return function(e){return M(void 0,void 0,void 0,function(){return U(this,function(t){switch(t.label){case 0:return i?(m(!0),[3,4]):[3,1];case 1:return r?[4,x()]:[3,3];case 2:t.sent(),t.label=3;case 3:d&&d(e),t.label=4;case 4:return[2]}})})}(e)},disabled:u||v,btnVariant:"danger"===l?"danger":"secondary"},f,{children:v?(0,w.__)("Processing…","burst-statistics"):y})),i&&(0,n.jsx)(T.A,{title:i,content:o||"",isOpen:b,onClose:j,triggerClassName:"",footer:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.A,{onClick:j,btnVariant:"tertiary",children:(0,w.__)("Cancel","burst-statistics")}),(0,n.jsx)(C.A,{onClick:function(){return M(void 0,void 0,void 0,function(){return U(this,function(e){switch(e.label){case 0:return m(!1),r?[4,x()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},btnVariant:"danger"===l?"danger":"secondary",disabled:v,children:v?(0,w.__)("Processing…","burst-statistics"):(0,w.__)("Confirm","burst-statistics")})]})})]}):c?(0,n.jsx)(C.A,G({link:{to:c,from:"/"},disabled:u},f,{btnVariant:"tertiary",children:y})):(0,n.jsx)(C.A,G({onClick:d,disabled:u},f,{btnVariant:"tertiary",children:y}))};var B=function(){return B=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},B.apply(this,arguments)},K=(0,a.forwardRef)(function(e,t){var r,a,s,i,o,l,c,u,d=e.field,p=e.fieldState,b=e.label,m=e.help,h=e.context,v=e.className,g=e.setting,y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className","setting"]),x=y.id||d.name;return(0,n.jsx)(f.A,B({label:b,help:m,error:null===(r=null==p?void 0:p.error)||void 0===r?void 0:r.message,context:h,inputId:x,className:v,alignWithLabel:!0,recommended:y.recommended,disabled:y.disabled},y,{children:(0,n.jsx)(V,B({},d,{id:x,"aria-invalid":!!(null===(a=null==p?void 0:p.error)||void 0===a?void 0:a.message),ref:t,buttonText:null!==(s=g.button_text)&&void 0!==s?s:"",action:null!==(i=g.action)&&void 0!==i?i:"",url:null!==(o=g.url)&&void 0!==o?o:"",warnTitle:null!==(l=g.warnTitle)&&void 0!==l?l:"",warnContent:null!==(c=g.warnContent)&&void 0!==c?c:"",warnType:null!==(u=g.warnType)&&void 0!==u?u:""},y))}))});K.displayName="ButtonControlField";const $=K;var W=r(53576),H=r.n(W);var Q=r(94304),Y=r(99696),Z=function(){return Z=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Z.apply(this,arguments)},J=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},X=(0,a.forwardRef)(function(e){var t,r=e.field,s=e.fieldState,i=e.help,o=e.context,l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","help","context"]),c=l.id||r.name,u=r.value||[],p=(0,a.useState)(""),b=p[0],m=p[1],h=(0,a.useState)(""),v=h[0],g=h[1],y=[{value:"weekly",label:(0,w.__)("Weekly","burst-statistics")},{value:"monthly",label:(0,w.__)("Monthly","burst-statistics")}],x=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},j=function(e,t,r){void 0===r&&(r=[]);var n=(0,a.useRef)(e);n.current=e;var s=JSON.stringify(r),i=(0,a.useMemo)(function(){return H()(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.current.apply(n,e)},t)},[t,s]);return(0,a.useEffect)(function(){return function(){return i.cancel()}},[i]),(0,a.useCallback)(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.apply(void 0,e)},[i])}(function(e){e.length&&!x(e)?g((0,w.__)("Invalid email address","burst-statistics")):g("")},1e3),_=function(){return e=void 0,t=void 0,a=function(){var e;return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(t){return(e=b.trim())?x(e)?10<=u.length?(g((0,w.__)("Maximum 10 emails allowed","burst-statistics")),[2]):u.find(function(t){return t.email===e})?(g((0,w.__)("Email address already added","burst-statistics")),[2]):(g(""),r.onChange(J(J([],u,!0),[{email:e,frequency:"monthly"}],!1)),m(""),[2]):(g((0,w.__)("Invalid email address","burst-statistics")),[2]):(g((0,w.__)("Email address is required","burst-statistics")),[2])})},new((n=void 0)||(n=Promise))(function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())});var e,t,n,a},N=[{name:(0,w.__)("Email","burst-statistics"),selector:function(e){return e.email}},{name:(0,w.__)("Frequency","burst-statistics"),cell:function(e){return(0,n.jsx)(Q.A,{value:e.frequency,onChange:function(t){return function(e,t){var n=u.map(function(r){return r.email===e?Z(Z({},r),{frequency:t}):r});r.onChange(n)}(e.email,t)},options:y})},right:"true"},{name:(0,w.__)("Remove","burst-statistics"),cell:function(e){return(0,n.jsx)(C.A,{onClick:function(){return t=e.email,n=u.filter(function(e){return e.email!==t}),void r.onChange(n);var t,n},btnVariant:"tertiary",children:(0,w.__)("Remove","burst-statistics")})},right:"true"}];return(0,n.jsx)(f.A,Z({label:"",help:i,error:null===(t=null==s?void 0:s.error)||void 0===t?void 0:t.message,context:o,inputId:c,fullWidthContent:!0,recommended:l.recommended,disabled:l.disabled},l,{children:(0,n.jsxs)("div",{className:"w-full space-y-4",children:[(0,n.jsx)("p",{className:"px-6 text-sm text-gray",children:(0,w.__)("Recipients will receive weekly or monthly reports with statistics about your website. Add or remove email addresses in the list below.","burst-statistics")}),(0,n.jsx)(Y.Ay,{noDataComponent:(0,w.__)("No emails added yet","burst-statistics"),columns:N,data:u,customStyles:{headCells:{style:{paddingLeft:"1.5rem",paddingRight:"1.5rem"}},cells:{style:{paddingLeft:"1.5rem",paddingRight:"1.5rem"}}}}),(0,n.jsxs)(f.A,{label:"Add emails to receive weekly or monthly reports",error:v,className:"justify-start",children:[(0,n.jsx)(d.A,{name:c,autoComplete:"email",id:c,type:"email",value:b,onChange:function(e){var t=e.target.value;m(t),j(t)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),_())},placeholder:(0,w.__)("Enter email address","burst-statistics"),className:"mt-1 block w-full sm:w-64"}),(0,n.jsx)(C.A,{onClick:_,btnVariant:"tertiary",className:"mt-2",type:"button",children:(0,w.__)("Add to list","burst-statistics")})]})]})}))});X.displayName="EmailReportsField";const ee=X;var te=r(89668),re=r(53411),ne=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))};const ae=(0,a.memo)(function(e){var t=e.indeterminate,r=e.label,s=e.value,i=e.id,o=e.onChange,l=e.required,c=e.disabled,u=e.options,d=void 0===u?{}:u,f=(0,a.useState)(!1),p=f[0],b=f[1],m=s;Array.isArray(m)||(m=""===m?[]:[m]);var h=1===Object.keys(d).length&&"true"===Object.keys(d)[0],v=!!t||s,g=Array.isArray(m)?m:[],y=Object.keys(d).length>10,x=function(){b(!p)},j=!(!c||Array.isArray(c))&&c;return 0===Object.keys(d).length?(0,n.jsx)(n.Fragment,{children:(0,w.__)("No options found","burst-statistics")}):(0,n.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object.entries(d).map(function(e,a){var s,u=e[0],d=e[1];return(0,n.jsxs)("div",{className:"".concat(!p&&a>9?"hidden":""," flex items-center"),children:[(0,n.jsx)(te.bL,{className:"w-4 h-4 border border-gray-400 rounded flex-shrink-0 disabled:opacity-50",id:"".concat(i,"_").concat(u),checked:(s=u,h?v:g.includes(""+s)||g.includes(parseInt(s))),"aria-label":r,disabled:j||Array.isArray(c)&&c.includes(u),required:l,onCheckedChange:function(e){return function(e,t){if(h)o(!v);else{var r=g.includes(""+t)||g.includes(parseInt(t))?g.filter(function(e){return e!==""+t&&e!==parseInt(t)}):ne(ne([],g,!0),[t],!1);o(r)}}(0,u)},children:(0,n.jsx)(te.C1,{className:"flex items-center justify-center",children:(0,n.jsx)(re.A,{name:t?"indeterminate":"check",size:14,color:"blue"})})}),(0,n.jsx)("label",{className:"ml-2",htmlFor:"".concat(i,"_").concat(u),children:d})]},u)}),y&&!p&&(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("button",{onClick:x,className:"underline w-fit",children:(0,w.__)("Show more","burst-statistics")})}),y&&p&&(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("button",{onClick:x,className:"underline w-fit",children:(0,w.__)("Show less","burst-statistics")})})]})});var se=function(){return se=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},se.apply(this,arguments)},ie=(0,a.forwardRef)(function(e,t){var r,a=e.field,s=e.fieldState,i=e.label,o=e.help,l=e.context,c=e.className,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),d=u.id||a.name;return(0,n.jsx)(f.A,se({label:i,help:o,error:null===(r=null==s?void 0:s.error)||void 0===r?void 0:r.message,context:l,className:c,inputId:d,required:u.required,recommended:u.recommended,disabled:u.disabled},u,{children:(0,n.jsx)(ae,se({},a,{id:d,label:i,ref:t},u))}))});ie.displayName="CheckboxGroupField";const oe=ie;var le=r(97813),ce=r(8686),ue=r(78548),de=function(){return de=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},de.apply(this,arguments)},fe=(0,a.forwardRef)(function(e){var t,r=e.field,a=e.fieldState,s=e.label,i=e.help,o=e.context,l=e.className,c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),u=c.id||r.name;return(0,n.jsx)(f.A,de({label:s,help:i,error:null===(t=null==a?void 0:a.error)||void 0===t?void 0:t.message,context:o,className:l,inputId:u,required:c.required,recommended:c.recommended,disabled:c.disabled},c,{children:(0,n.jsx)(ue.A,de({id:u,options:r.options,value:r.value,disabled:c.settingsIsUpdating||r.disabled,goalId:r.goal_id},c))}))});fe.displayName="RadioButtonsField";const pe=fe;var be=r(93832),me=r(47143),he=r(70802),ve=r(61626),ge=(r(3582),function(){return ge=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ge.apply(this,arguments)}),ye=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},xe=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};var je=r(28786),we=function(){return we=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},we.apply(this,arguments)},_e=(0,a.forwardRef)(function(e,t){var r=e.field,s=e.label,i=e.context,o=e.className,l=e.goal,c=e.onChange,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","label","context","className","goal","onChange"]),p=u.id||r.name,b=function(e){var t=(void 0===e?{}:e).fields,r=(0,he.jE)(),n=(0,me.useSelect)(function(e){return e("core").getEntityRecord("root","site")},[]),s=(0,me.useSelect)(function(e){return e("core/data").isResolving("core","getEntityRecord",["root","site"])},[]),i=(0,me.useDispatch)("core/data").invalidateResolution,o=(0,a.useCallback)(function(){return ye(void 0,void 0,void 0,function(){return xe(this,function(e){return n?[2,n]:[2,new Promise(function(e){var t=wp.data.subscribe(function(){var r=wp.data.select("core").getEntityRecord("root","site");r&&(t(),e(r))})})]})})},[n]),l=(0,ve.I)({queryKey:["wordpressData","siteInfo"],queryFn:o,staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,initialData:n}),c=l.data,u=l.isLoading,d=l.refetch,f=(0,a.useCallback)(function(){return ye(void 0,void 0,void 0,function(){return xe(this,function(e){switch(e.label){case 0:return i("core","getEntityRecord",["root","site"]),[4,d()];case 1:return e.sent(),r.invalidateQueries(["wordpressData","siteInfo"]),[2]}})})},[i,d,r]),p=c||n,b=u||s;if(t&&p){var m=(Array.isArray(t)?t:[t]).reduce(function(e,t){return t in p&&(e[t]=p[t]),e},{});return ge({siteInfo:p,isLoading:b,refreshSiteInfo:f},m)}return{siteInfo:p,isLoading:b,refreshSiteInfo:f}}().siteInfo,m=(0,a.useState)(!0),h=m[0],v=m[1],g=null==b?void 0:b.url,y="page"===l.page_or_website?g+l.specific_page:g,x=(0,be.addQueryArgs)(y,{burst_preview:"1",burst_force_logged_out:h?"1":"0"}),j=(0,be.addQueryArgs)(y,{}),_=(0,a.useState)(r.value||""),N=_[0],O=_[1],S=(0,a.useState)(""),k=S[0],A=S[1],C=(0,a.useState)(!1),P=C[0],I=C[1],D=(0,a.useState)({count:null,previews:[],currentIndex:0}),E=D[0],F=D[1],L=(0,a.useState)(""),R=L[0],T=L[1],q=(0,a.useRef)(null),z=(0,a.useRef)(null),G=(0,a.useCallback)(function(e){if(!e)return"";try{return document.querySelectorAll(e),""}catch(e){return"Invalid selector: ".concat(e.message)}},[]),M=(0,a.useCallback)(function(e){if(e){var t=G(e);if(t)return A(t),void F({count:null,previews:[],currentIndex:0});var r=q.current;if(r)try{var n=r.contentDocument||r.contentWindow.document,a=Array.from(n.querySelectorAll(e)),s=a.length;if(0===s)return F({count:0,previews:[],currentIndex:0}),void T("");var i="<head>"+Array.from(n.head.children).map(function(e){return e.outerHTML}).join("")+"</head>",o=a.map(function(e){var t='<body style="display: flex; justify-content: center; align-items: center; height: 100vh;">'.concat(e.outerHTML,"</body>");return"<!DOCTYPE html>\n<html>\n  ".concat(i,"\n  ").concat(t,"\n</html>")});if(F({count:s,previews:o,currentIndex:0}),A(""),0<a.length){var l=getComputedStyle(a[0]);"none"===l.display||"hidden"===l.visibility?T((0,w.__)("Warning: The current element is hidden via CSS.","burst-statistics")):T("")}}catch(e){A("Error testing selector: ".concat(e.message)),F({count:null,previews:[],currentIndex:0})}}else F({count:null,previews:[],currentIndex:0})},[G]),U=(0,a.useRef)(null);(0,a.useEffect)(function(){var e=H()(function(e){M(e),I(!1)},300);return U.current=e,function(){return e.cancel()}},[M]);var V=(0,a.useCallback)(function(e){var t;null===(t=U.current)||void 0===t||t.call(U,e)},[]);(0,a.useEffect)(function(){I(!0),V(N)},[N,V]);var B=function(e){F(function(t){var r=t.previews,n=t.currentIndex;if(!r.length)return t;var a="next"===e?(n+1)%r.length:(n-1+r.length)%r.length,s=we(we({},t),{currentIndex:a}),i=q.current;if(i)try{var o=i.contentDocument||i.contentWindow.document,l=Array.from(o.querySelectorAll(N))[a];if(l){var c=getComputedStyle(l);"none"===c.display||"hidden"===c.visibility?T((0,w.__)("Warning: this element might be hidden via CSS.","burst-statistics")):T("")}}catch(e){}return s})},K=k?i:null!=E.count?(0,w.sprintf)(
/* translators:
  1: number of elements found
  2: the URL of the preview
  3: logged in/out status */
/* translators:
  1: number of elements found
  2: the URL of the preview
  3: logged in/out status */
(0,w._n)("Found %1$d element on %2$s %3$s","Found %1$d elements on %2$s %3$s",E.count,"burst-statistics"),E.count,j,h?(0,w.__)("(Logged out)","burst-statistics"):(0,w.__)("(Logged in)","burst-statistics")):i,$=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h4",{className:"text-base font-bold mb-2",children:(0,w.__)("Selector Examples:","burst-statistics")}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:".class-name"})," –"," ",(0,w.__)('Selects all elements with class "class-name".',"burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"#element-id"})," –"," ",(0,w.__)('Selects the element with ID "element-id".',"burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"button"})," –"," ",(0,w.__)("Selects all <button> elements.","burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:'a[href^="https"]'})," –"," ",(0,w.__)('Selects links whose href starts with "https".',"burst-statistics")]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:".nav-item:not(.active)"})," –"," ",(0,w.__)('Selects .nav-item elements that do not have the "active" class.',"burst-statistics")]})]})]});return(0,n.jsxs)(f.A,{label:s,help:$,error:k,warning:R,className:o,inputId:p,required:u.required,children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.A,we({id:p,type:"text",ref:t,value:N},r,u,{"aria-invalid":!!k,"aria-describedby":k?"".concat(p,"-error"):void 0,onChange:function(e){var t=e.target.value;O(t),c(t),A(G(t))},className:"w-full"})),P&&(0,n.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,n.jsxs)("svg",{className:"animate-spin h-4 w-4 text-gray-600",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})})]}),(0,n.jsxs)("div",{className:"mt-4 border rounded overflow-hidden",ref:z,tabIndex:0,"aria-label":(0,w.__)("Preview panel, use arrow keys to navigate","burst-statistics"),children:[(0,n.jsxs)("div",{className:"bg-gray-100 p-2 grid grid-cols-3 items-center justify-between border-b",children:[(0,n.jsx)("div",{className:"font-medium text-sm",children:K}),1<E.previews.length&&(0,n.jsx)("div",{className:"col-start-2 flex items-center justify-center",children:(0,n.jsxs)("div",{role:"group","aria-label":(0,w.__)("Step through matches","burst-statistics"),className:"flex items-center justify-center rounded overflow-hidden shadow-sm",children:[(0,n.jsx)("button",{type:"button",onClick:function(){return B("prev")},className:"bg-white text-gray-600 hover:bg-gray-100 px-3 py-1 border-r","aria-label":(0,w.__)("Previous match","burst-statistics"),children:"←"}),(0,n.jsxs)("span",{className:"px-2 py-1 bg-white text-sm",children:[E.currentIndex+1,"/",E.previews.length]}),(0,n.jsx)("button",{type:"button",onClick:function(){return B("next")},className:"bg-white text-gray-600 hover:bg-gray-100 px-3 py-1 border-l","aria-label":(0,w.__)("Next match","burst-statistics"),children:"→"})]})}),(0,n.jsx)("div",{className:"flex items-center justify-end col-start-3 gap-2",children:(0,n.jsx)(je.A,{content:h?(0,w.__)("Set logged in mode","burst-statistics"):(0,w.__)("Set logged out mode","burst-statistics"),children:(0,n.jsx)("button",{type:"button",onClick:function(){return v(!h)},className:"bg-white text-gray-600 hover:bg-gray-100 border-gray-400 px-2 py-2 border rounded-md",children:h?(0,n.jsx)(re.A,{name:"log-out"}):(0,n.jsx)(re.A,{name:"log-in"})})})})]}),0<E.previews.length&&!k&&(0,n.jsx)("iframe",{srcDoc:E.previews[E.currentIndex],sandbox:"allow-scripts allow-same-origin",title:"".concat(p,"-preview"),className:"w-full h-48 border-none","aria-live":"polite"})]}),0<E.previews.length&&(0,n.jsx)("span",{className:"sr-only","aria-live":"polite",children:(0,w.__)("%s elements match your selector. Use arrow keys to cycle through matches.","burst-statistics").replace("%s",E.count)}),x&&(0,n.jsx)("iframe",{ref:q,sandbox:"allow-scripts allow-same-origin",src:x,onLoad:function(){return M(N)},referrerPolicy:"no-referrer",style:{display:"none"},title:"".concat(p,"-hidden-tester")})]})});_e.displayName="SelectorField";const Ne=_e,Oe=function(e){var t=e.field,r=void 0===t?{}:t,s=e.goal,i=e.value,o=e.setGoalValue,l=(0,a.useState)(!1),c=l[0],u=l[1];(0,a.useEffect)(function(){f(r,i)});var d=function(e){f(r,e),"type"===r.id&&"visits"===e&&o(s.id,"page_or_website","page"),o(s.id,r.id,e)},f=function(e,t){var r=!0;e.required&&(r=0!==t.length),r&&"url"===e.type&&(r=!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)),r&&"css-selector"===e.type&&(r=!!t.length),u(r)},p="burst-"+r.type,b=r.disabled;return"hidden"===r.type||r.conditionallyDisabled?null:"text"===r.type||"url"===r.type?(0,n.jsxs)("div",{className:p,children:[r.parent_label&&(0,n.jsx)("div",{children:(0,n.jsx)("label",{children:r.parent_label})}),c&&(0,n.jsx)(re.A,{name:"success",color:"green"}),!c&&(0,n.jsx)(re.A,{name:"times"}),(0,n.jsx)(m,{help:r.comment,placeholder:r.placeholder,label:r.label,onChange:function(e){return d(e.target.value)},value:i,disabled:b})]}):"radio-buttons"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(pe,{disabled:b,field:r,goalId:s.id,inputId:r.id,id:r.id,label:r.label,help:r.comment,value:s[r.id],onChange:function(e){return d(e)},className:"radio-buttons"})}):"hook"===r.type?(0,n.jsx)("div",{className:"flex flex-wrap align-content-stretch gap-8 [&>*]: w-full [&>input[type='text']]:w-full [&>input[type='text']]:box-border",children:(0,n.jsx)(m,{disabled:b,field:r,goal:s,label:r.label,help:r.comment,value:s.hook,onChange:function(e){return d(e.target.value)}})}):"select-page"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(ce.A,{disabled:b,field:r,goal_id:s.id,label:r.label,help:r.comment,value:!1===s.url||"*"===s.url?"":s.url,onChange:function(e){return d(e)}})}):"selector"===r.type?(0,n.jsx)("div",{className:p,children:(0,n.jsx)(Ne,{disabled:b,field:r,goal:s,goal_id:s.id,label:r.label,help:r.comment,value:s.selector,onChange:function(e){return d(e)}})}):void 0};function Se(e){var t=e.value,r=e.onChange,s=(0,a.useState)(t),i=s[0],o=s[1],l=(0,a.useState)(!1),c=l[0],u=l[1],d=(0,a.useRef)(null);return(0,a.useEffect)(function(){c&&d.current&&d.current.focus()},[c]),(0,n.jsx)("div",{children:c?(0,n.jsx)("input",{type:"text",value:i,onChange:function(e){e.preventDefault(),o(e.target.value)},onBlur:function(){return e=this,t=void 0,a=function(){return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(e){switch(e.label){case 0:return u(!1),[4,r(i)];case 1:return e.sent(),[2]}})},new((n=void 0)||(n=Promise))(function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())});var e,t,n,a},onKeyDown:function(e){" "===e.key&&(e.preventDefault(),o(e.target.value+" ")),"Enter"===e.key&&(e.preventDefault(),u(!1),r(i))},ref:d}):(0,n.jsx)(le.A,{content:(0,w.__)("Click to edit","burst-statistics"),children:(0,n.jsx)("h5",{className:"min-w-[150px] font-semibold inline-block burst-tooltip-clicktoedit",tabIndex:"0",onClick:function(e){e.preventDefault(),u(!0)},onFocus:function(){u(!0)},children:""!==i?i:(0,n.jsx)("i",{children:(0,w.__)("Untitled goal","burst-statistics")})})})})}var ke=r(91788),Ae=r(85373),Ce=function(e){var t=e.goal;return(0,n.jsxs)(n.Fragment,{children:[(0,w.__)("Are you sure you want to delete this goal?","burst-statistics")+" "+(0,w.__)("This action cannot be undone.","burst-statistics"),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:[(0,w.__)("Goal name","burst-statistics"),":"]})," ",t.name,(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:[(0,w.__)("Status","burst-statistics"),":"]})," ",t.status,(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:[(0,w.__)("Date created","burst-statistics"),":"]})," ",(0,ke.BM)(t.dateCreated)]})},Pe=function(e){var t=e.deleteGoal,r=e.onClose,a=e.isDisabled;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ae.bm,{asChild:!0,"aria-label":"Close",children:(0,n.jsx)("button",{className:"burst-button burst-button--secondary",onClick:r,children:(0,w.__)("Cancel","burst-statistics")})}),(0,n.jsx)("button",{disabled:a,className:"burst-button burst-button--tertiary",onClick:function(){return t()},children:(0,w.__)("Delete goal","burst-statistics")})]})};const Ie=function(e){var t=e.goal,r=e.deleteGoal,s=(0,a.useState)(!1),i=s[0],o=s[1],l=(0,a.useState)(!1),c=l[0],u=l[1],d=function(){o(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T.A,{isOpen:i,onClose:d,title:(0,w.__)("Delete goal","burst-statistics"),content:(0,n.jsx)(Ce,{goal:t}),footer:(0,n.jsx)(Pe,{deleteGoal:function(){return e=void 0,t=void 0,a=function(){return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(e){switch(e.label){case 0:return u(!0),[4,r()];case 1:return e.sent(),u(!1),o(!1),[2]}})},new((n=void 0)||(n=Promise))(function(r,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((a=a.apply(e,t||[])).next())});var e,t,n,a},onClose:d,isDisabled:c})}),(0,n.jsx)("button",{className:"burst-button-icon burst-button-icon--delete",onClick:function(e){return function(e){e.preventDefault(),o(!0)}(e)},children:(0,n.jsx)(re.A,{name:"trash",size:18})})]})};var De=function(){return De=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},De.apply(this,arguments)};const Ee=function(e){var t=e.goal,r=e.goalFields,s=e.setGoalValue,o=e.deleteGoal,l=e.saveGoalTitle,c=(0,a.useState)("active"===t.status),u=c[0],d=c[1],f=(0,a.useMemo)(function(){if(!r||0===r.length)return[];var e=r.map(function(e){var r=De({},e);return r.value=t[r.id],r});return(0,i.l)(e)},[r,t]);return r?(0,n.jsx)("div",{className:"w-full bg-gray-100 rounded-m",children:(0,n.jsxs)("details",{className:"rounded-md border border-gray-200",children:[(0,n.jsxs)("summary",{className:"burst-no-marker py-1.5 px-2.5 grid gap-1.5 items-center list-none [grid-template-columns:26px_1fr_auto_auto_auto] md:gap-3",children:[(0,n.jsx)(re.A,{name:t.type&&f[1]&&f[1].options&&f[1].options[t.type]?f[1].options[t.type].icon:"eye",size:20}),(0,n.jsx)("span",{children:(0,n.jsx)(Se,{value:t.title&&0<t.title.length?t.title:" ",id:t.id,defaultValue:(0,w.__)("New goal","burst-statistics"),onChange:function(e){s(t.id,"title",e),l(t.id,e)}})}),(0,n.jsx)(Ie,{goal:{name:t.title&&0<t.title.length?t.title:" ",status:u?(0,w.__)("Active","burst-statistics"):(0,w.__)("Inactive","burst-statistics"),dateCreated:t&&void 0!==t.date_created&&1<t.date_created?t.date_created:1},deleteGoal:function(){o(t.id)}}),(0,n.jsx)(le.A,{content:u?(0,w.__)("Click to de-activate","burst-statistics"):(0,w.__)("Click to activate","burst-statistics"),children:(0,n.jsx)("span",{className:"burst-click-to-filter burst-goal-toggle",children:(0,n.jsx)(E.A,{size:"small",value:u,onChange:function(e){d(e),s(t.id,"status",e?"active":"inactive")}})})}),(0,n.jsx)(re.A,{name:"chevron-down",size:18})]}),0<f.length&&f.map(function(e,r){return(0,n.jsx)(Oe,{field:e,goal:t,value:e.value,setGoalValue:s},r)})]})}):null};var Fe=r(50616),Le=r(65162),Re=r(84400);const Te=function(){var e=(0,i.A)(),t=e.goals,r=e.goalFields,s=e.predefinedGoals,o=e.addGoal,l=e.deleteGoal,c=e.updateGoal,u=e.addPredefinedGoal,d=e.setGoalValue,f=e.saveGoalTitle,p=(0,Re.A)().isLicenseValid,b=(0,a.useState)(!1),m=b[0],h=b[1],v=function(e){switch(e){case"hook":return"Hook";case"clicks":return(0,w.__)("Click","burst-statistics");case"views":return(0,w.__)("View","burst-statistics");default:return e}},g=s&&0!==s.length?"":"burst-inactive";return(0,n.jsxs)("div",{className:"box-border w-full p-3 md:p-6",children:[(0,n.jsxs)("p",{className:"text-base",children:[(0,w.__)("Goals are a great way to track your progress and keep you motivated.","burst-statistics"),!p&&" "+(0,w.__)("While free users can create one goal, Burst Pro lets you set unlimited goals to plan, measure, and achieve more.","burst-statistics")]}),(0,n.jsxs)("div",{className:"flex flex-wrap flex-col gap-4 mt-4",children:[0<t.length&&t.map(function(e,t){return(0,n.jsx)(Ee,{goal:e,goalFields:r,setGoalValue:d,deleteGoal:l,onUpdate:c,saveGoalTitle:f},t)}),(p||0===t.length)&&(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{className:"burst-button burst-button--secondary",type:"button",onClick:o,children:(0,w.__)("Add goal","burst-statistics")}),s&&(0,n.jsxs)(Le.bL,{open:m,onOpenChange:function(){h(!m)},children:[(0,n.jsxs)(Le.l9,{type:"button",className:g+" burst-button burst-button--secondary burst-add-predefined-goal",onClick:function(){h(!m)},children:[(0,w.__)("Add predefined goal","burst-statistics")," ",(0,n.jsx)(re.A,{name:m?"chevron-up":"chevron-down",color:"gray"})]}),(0,n.jsxs)(Le.UC,{sideOffset:5,align:"end",className:"burst-predefined-goals-list z-50 flex flex-col gap-2 rounded-lg border border-gray-400 bg-white p-2",children:[s.map(function(e,t){return(0,n.jsxs)("div",{className:"relative z-50 flex cursor-pointer flex-row gap-1 rounded-lg border border-gray-400 bg-gray-100 p-2",onClick:function(){return function(e){return t=void 0,r=void 0,a=function(){return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(t){switch(t.label){case 0:return h(!1),[4,u(e.id)];case 1:return t.sent(),[2]}})},new((n=void 0)||(n=Promise))(function(e,s){function i(e){try{l(a.next(e))}catch(e){s(e)}}function o(e){try{l(a.throw(e))}catch(e){s(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(e){e(r)})).then(i,o)}l((a=a.apply(t,r||[])).next())});var t,r,n,a}(e)},children:[(0,n.jsx)(re.A,{name:"plus",size:18,color:"gray"}),e.title+" ("+v(e.type)+")"]},t)}),(0,w.__)("Plug-in you're looking for not listed?","burst-statistics")+" ",(0,n.jsx)("a",{className:"underline",href:(0,Fe.U)("/request-goal-integration/",{utm_source:"goals-integration-request"}),children:(0,w.__)("Request it here!","burst-statistics")})]})]}),(0,n.jsx)("div",{className:"ml-auto text-right",children:(0,n.jsx)("p",{className:"rounded-lg bg-gray-300 p-1 px-3 text-sm text-gray",children:p?(0,n.jsxs)(n.Fragment,{children:[" ",t.length," / ∞ "]}):(0,n.jsxs)(n.Fragment,{children:[t.length," / 1"]})})})]}),!p&&(0,n.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-200 rounded-md mt-4 justify-start items-center border-2 border-gray-300",children:[(0,n.jsx)(re.A,{name:"goals",size:24,color:"gray"}),(0,n.jsx)("h4",{children:(0,w.__)("Want more goals?","burst-statistics")}),(0,n.jsx)("div",{className:"burst-divider"}),(0,n.jsx)("p",{className:"text-sm text-gray",children:(0,w.__)("Upgrade to Burst Pro","burst-statistics")}),(0,n.jsx)("a",{href:(0,Fe.U)("/pricing/",{utm_source:"goals-setting",utm_content:"more-goals"}),target:"_blank",className:"ml-auto burst-button burst-button--pro",children:(0,w.__)("Upgrade to Pro","burst-statistics")})]})]})]})},qe=function(e){var t=e.className,r=e.text,a=e.target,s=e.url,i=e.rel,o="",l="",c="";if(-1!==r.indexOf("%s")){var u=r.split(/%s/);o=u[0],c=u[1],l=u[2]}else c=r;return t=t||"burst-link",(0,n.jsxs)(n.Fragment,{children:[o,(0,n.jsx)("a",{className:t,target:a,rel:i,href:s,children:c}),l]})};var ze=r(2573),Ge={creator:"Creator",business:"Business",agency:"Agency"},Me={urgent:{container:"bg-red-light",button:"primary"},warning:{container:"bg-yellow-50 border-t-2 border-yellow-500",button:"primary"},default:{container:"bg-gray-50 border-t border-gray-200",button:"secondary"}},Ue=function(e){var t=e.licenseKey,r=e.onLicenseKeyChange,a=e.onActivate,s=e.isLicenseMutationPending,i=e.fieldName,o=e.errorMessage;return(0,n.jsxs)("div",{className:"w-full p-6 border-b border-gray-300",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-black mb-4",children:(0,w.__)("Activate Burst Pro","burst-statistics")}),(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(d.A,{id:i,type:"password",placeholder:(0,w.__)("Enter your license key here","burst-statistics"),value:t,onChange:function(e){return r(e.target.value)},disabled:s,className:"w-full"}),o&&(0,n.jsx)("p",{className:"text-sm text-red",children:o}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(C.A,{btnVariant:"primary",onClick:a,disabled:s||!t,children:(0,w.__)("Activate license","burst-statistics")}),s&&(0,n.jsx)(re.A,{name:"loading",size:20})]}),(0,n.jsxs)("p",{className:"text-sm text-gray",children:[(0,w.__)("Activating your license gives you automatic updates and support.","burst-statistics")," ",(0,n.jsx)(qe,{className:"underline text-sm text-gray",url:(0,Fe.U)("account",{utm_source:"license-activation",utm_content:"find-license-key"}),target:"_blank",rel:"noopener noreferrer",text:(0,w.__)("Find your license key in %syour account%s.","burst-statistics")})," ",(0,n.jsx)(qe,{className:"underline text-sm text-gray",url:(0,Fe.U)("how-to-install-burst-pro",{utm_source:"license-activation",utm_content:"installation-guide"}),target:"_blank",rel:"noopener noreferrer",text:(0,w.__)("Having trouble? %sCheck our installation guide%s.","burst-statistics")})," ",(0,n.jsx)(qe,{className:"underline text-sm text-gray",url:(0,Fe.U)("support",{utm_source:"license-activation",utm_content:"support-ticket"}),target:"_blank",rel:"noopener noreferrer",text:(0,w.__)("If that does not help, please %sopen a support ticket%s so we can help you out!","burst-statistics")})]})]})]})},Ve=function(e){var t=e.tier,r=e.activationLimit,a=e.activationsLeft,s=e.expiresDate,i=e.isLifetime,o=e.isLicenseMutationPending,l=e.onDeactivate,c=e.upgrades,u=e.subscriptionStatus,d=e.hasSubscriptionInfo,f=e.isTrial,p=e.trialRemainingDays,b=e.licenseStatus,m=e.encryptedLicenseKey,h="valid"===b,v=function(e,t,r){return void 0===r&&(r=!1),"unlimited"===e.sites||"number"==typeof e.sites&&(r?e.sites>=t:e.sites>t)},g=function(e,t){return e.find(function(e){return e.tier.toLowerCase()===t.toLowerCase()})},y=!d||"cancelled"!==u&&"failing"!==u?null:{headline:(0,w.__)("Keep your Pro insights & lock in your price","burst-statistics"),body:(0,w.sprintf)((0,w.__)("Your subscription is set to expire on %s.","burst-statistics"),s)+" "+(0,w.__)("Renew your plan now to lock in your current rate. As long as your subscription stays active, your price won't increase and you'll keep access to all Pro data and features.","burst-statistics"),buttonText:(0,w.__)("Renew subscription","burst-statistics"),buttonUrl:(0,Fe.U)("checkout",{edd_license_key:m,download_id:889,utm_source:"license-settings",utm_content:"resume-subscription"}),variant:"urgent",icon:"warning-triangle"},x=function(){var e;if(0===a&&0<r){var n=c.find(function(e){return v(e,r)});return(null==n?void 0:n.url)||null}var s=t.toLowerCase();if("creator"===s){if(1===r){var i=c.find(function(e){return"creator"===e.tier.toLowerCase()&&5===e.sites});if(i)return i.url}var o=c.filter(function(e){return v(e,r,!0)}),l=g(o,"business")||g(o,"agency");return(null==l?void 0:l.url)||null}return"business"===s&&(null===(e=g(c,"agency"))||void 0===e?void 0:e.url)||null}(),j=function(){var e=new Date(s)<new Date;if(i)return{text:(0,w.__)("Never","burst-statistics"),color:"text-black"};if(f&&0<p&&(!d||"active"!==u))return{text:(0,w.sprintf)(/* translators: %d: number of days remaining */ /* translators: %d: number of days remaining */
(0,w.__)("Trial - %d days remaining","burst-statistics"),p),color:"text-green-dark"};if(!d)return{text:(0,w.sprintf)(e?(0,w.__)("Expired on %s","burst-statistics"):(0,w.__)("Expires on %s","burst-statistics"),s),color:"text-black"};switch(u){case"active":return{text:(0,w.sprintf)(/* translators: %s: renewal date */ /* translators: %s: renewal date */
(0,w.__)("Auto-renews on %s","burst-statistics"),s),color:"text-black"};case"cancelled":return{text:(0,w.sprintf)(e?(0,w.__)("Cancelled - Expired on %s","burst-statistics"):(0,w.__)("Cancelled - Expires on %s","burst-statistics"),s),color:"text-red font-semibold"};case"failing":return{text:(0,w.__)("Payment failed - Axtion required","burst-statistics"),color:"text-red"};default:return{text:(0,w.sprintf)(e?(0,w.__)("Expired on %s","burst-statistics"):(0,w.__)("Expires on %s","burst-statistics"),s),color:"text-black"}}}();return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("div",{className:"w-full p-6 border-b border-gray-300",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-black",children:t?"Burst Pro — ".concat(function(e){return Ge[e.toLowerCase()]||e}(t)):"Burst Pro"}),(0,n.jsx)("span",{className:(0,ze.$)("inline-flex items-center px-3 py-1 text-sm font-medium rounded-full",h?"text-green-dark bg-green-light":"text-red bg-red-light"),children:h?(0,w.__)("Active","burst-statistics"):(0,w.__)("Inactive","burst-statistics")})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 text-sm mb-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"font-medium text-gray",children:(0,w.__)("License status","burst-statistics")}),(0,n.jsx)("span",{className:"text-black",children:"valid"===b?(0,w.__)("Active on this site","burst-statistics"):(0,w.__)("Inactive on this site","burst-statistics")})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"font-medium text-gray",children:(0,w.__)("Site activations","burst-statistics")}),(0,n.jsx)("span",{className:"text-black",children:function(){if(0===r)return(0,w.__)("Unlimited sites available","burst-statistics");var e=r-a;return 0>e&&(e=r),(0,w.sprintf)(/* translators: 1: number of sites used, 2: total number of sites allowed */ /* translators: 1: number of sites used, 2: total number of sites allowed */
(0,w.__)("%1$d of %2$d sites used","burst-statistics"),e,r)}()})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"font-medium text-gray",children:(0,w.__)("Subscription status","burst-statistics")}),(0,n.jsx)("span",{className:j.color,children:j.text})]})]}),h&&(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(C.A,{btnVariant:"tertiary",onClick:function(){return window.open((0,Fe.U)("account",{utm_source:"license-settings",utm_content:"manage-subscription"}),"_blank")},children:(0,w.__)("Manage subscription","burst-statistics")}),(0,n.jsx)("button",{type:"button",onClick:l,disabled:o,className:"text-sm text-gray hover:text-red underline focus:outline-none focus:ring-2 focus:ring-red focus:ring-offset-2 rounded transition-colors",children:(0,w.__)("Deactivate license on this site","burst-statistics")}),o&&(0,n.jsx)(re.A,{name:"loading",size:20})]})]}),h&&y&&(0,n.jsx)("div",{className:(0,ze.$)("p-6 my-4 mx-6 rounded-lg",Me[y.variant].container),children:(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)("h3",{className:"text-md font-semibold",children:y.headline}),(0,n.jsx)("p",{className:"text-sm",children:y.body}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(C.A,{btnVariant:Me[y.variant].button,onClick:function(){return window.open(y.buttonUrl,"_blank")},children:y.buttonText})})]})}),h&&0<c.length&&!y&&(0,n.jsxs)("div",{className:"w-full p-6 bg-gray-50 border-t border-gray-200",children:[(0,n.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-4",children:(0,w.__)("Available upgrades","burst-statistics")}),(0,n.jsx)("div",{className:"flex flex-col gap-3",children:c.map(function(e,t){var r=e.url.includes("burst-statistics.com")?(0,be.addQueryArgs)(e.url,{utm_source:"license-settings",utm_content:"upgrade-to-".concat(e.tier.toLowerCase())}):e.url,a=e.url===x;return(0,n.jsxs)("div",{className:(0,ze.$)("flex items-center justify-between p-4 bg-white border rounded-lg transition-colors",a?"border-green-light hover:border-green":"border-gray-200 hover:border-gray-300"),children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("h4",{className:"font-medium text-black",children:e.tier}),a&&(0,n.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 text-xs font-medium text-green-dark bg-green-light rounded-full",children:(0,w.__)("Recommended for you","burst-statistics")})]}),(0,n.jsx)("p",{className:"text-sm text-gray",children:"unlimited"===e.sites?(0,w.__)("Unlimited sites","burst-statistics"):(0,w.sprintf)(/* translators: %s: number of sites */ /* translators: %s: number of sites */
(0,w._n)("%s site","%s sites",e.sites,"burst-statistics"),e.sites)})]}),(0,n.jsx)(C.A,{btnVariant:a?"primary":"secondary",size:"sm",onClick:function(){return window.open(r,"_blank")},children:(0,w.__)("Upgrade","burst-statistics")})]},t)})})]})]})},Be=(0,a.forwardRef)(function(e,t){var r,a=e.field,s=e.className,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","className"]),o=(0,Re.A)(),l=o.licenseNotices,c=o.licenseStatus,u=o.isFetching,d=o.isLicenseMutationPending,f=o.activateLicense,p=o.deactivateLicense,b=o.upgrades,m=o.tier,h=o.activationLimit,v=o.activationsLeft,g=o.licenseExpiresDate,y=o.licenseIsLifetime,x=o.subscriptionStatus,j=o.hasSubscriptionInfo,w=o.isTrial,_=o.trialRemainingDays,N=o.encryptedLicenseKey,O=i.id||a.name,S="valid"===c,k=!S&&!(""===c||"empty"===c),A=null===(r=l.find(function(e){return"warning"===e.icon}))||void 0===r?void 0:r.msg;return(0,n.jsxs)("div",{className:(0,ze.$)("w-full",s),ref:t,children:[!S&&(0,n.jsx)(Ue,{licenseKey:a.value,onLicenseKeyChange:a.onChange,onActivate:function(){a.value&&f(a.name,a.value)},isLicenseMutationPending:d,fieldName:O,errorMessage:u?void 0:A}),(S||k)&&(0,n.jsx)(Ve,{tier:m,activationLimit:h,activationsLeft:v,expiresDate:g,isLifetime:y,isLicenseMutationPending:d,onDeactivate:function(){p()},upgrades:b,subscriptionStatus:x,hasSubscriptionInfo:j,isTrial:w,trialRemainingDays:_,licenseStatus:c,encryptedLicenseKey:N})]})});Be.displayName="LicenseField";const Ke=Be;var $e=function(){return $e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$e.apply(this,arguments)},We=(0,a.forwardRef)(function(e,t){var r,a,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),p=d.id||s.name;return(0,n.jsx)(f.A,$e({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,className:u,inputId:p,required:d.required,alignWithLabel:!0,recommended:d.recommended,disabled:d.disabled},d,{children:(0,n.jsx)(Q.A,$e({},s,{id:p,"aria-invalid":!!(null===(a=null==i?void 0:i.error)||void 0===a?void 0:a.message),ref:t,value:s.value||"",onChange:function(e){return s.onChange(e)},options:d.options||[],disabled:d.disabled}))}))});We.displayName="SelectField";const He=We;var Qe=function(){return Qe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Qe.apply(this,arguments)},Ye=(0,a.forwardRef)(function(e,t){var r,a,s,i=e.field,o=e.fieldState,l=e.label,c=e.help,u=e.setting,p=e.context,b=e.className,m=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","setting","context","className"]),h=m.id||i.name,v=null!==(r=String(i.value))&&void 0!==r?r:"";return(0,n.jsx)(f.A,Qe({label:l,help:c,error:null===(a=null==o?void 0:o.error)||void 0===a?void 0:a.message,context:p,className:b,inputId:h,required:m.required,recommended:m.recommended,disabled:m.disabled},m,{children:(0,n.jsx)(d.A,Qe({},i,{value:v,id:h,type:"number","aria-invalid":!!(null===(s=null==o?void 0:o.error)||void 0===s?void 0:s.message),ref:t,min:null==u?void 0:u.min,max:null==u?void 0:u.max,step:m.step,placeholder:m.placeholder,disabled:m.disabled,onChange:function(e){return i.onChange(e.target.value)}}))}))});Ye.displayName="NumberField";const Ze=Ye;var Je=r(44311),Xe=function(){return Xe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Xe.apply(this,arguments)},et=(0,a.forwardRef)(function(e){var t=e.field,r=e.fieldState,s=e.label,i=e.help,o=e.className,l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","className"]),c=(0,Je.S)(t.value),u=c.data,d=c.isLoading,p=null==u?void 0:u.attachmentUrl,b=(0,a.useRef)(null);return(0,n.jsxs)(f.A,Xe({label:s,help:i,className:o,error:r.error,pro:l.setting.pro,context:l.setting.context,recommended:l.recommended,disabled:l.disabled},l,{children:[(0,n.jsx)("div",{className:"flex items-center justify-center bg-gray-100 rounded-md p-4 border-dashed border-2 border-gray-500 cursor-pointer max-w-72 max-h-24 ".concat(l.disabled?"opacity-50 disabled pointer-events-none":""),onClick:function(){if(!l.disabled)if(b.current)b.current.open();else{var e=wp.media({title:(0,w.__)("Select a logo","burst-statistics"),button:{text:(0,w.__)("Set logo","burst-statistics")},multiple:!1});e.on("select",function(){var r=e.state().get("selection").first(),n=r.id;(r.attributes.sizes.medium||r.attributes.sizes.thumbnail||r.attributes.sizes.full)&&t.onChange(n)}),b.current=e,e.open()}},children:p&&!d?(0,n.jsx)("img",{src:p,alt:"Logo",className:"max-w-64 max-h-20"}):(0,n.jsx)(re.A,{name:"loading",size:18})}),(0,n.jsx)(C.A,{btnVariant:"tertiary",size:"sm",className:"mt-2",onClick:function(){t.onChange(0)},disabled:l.disabled||0===t.value||"0"===t.value,children:(0,w.__)("Reset to Default","burst-statistics")})]}))});et.displayName="LogoEditorField";const tt=et;var rt=r(30346),nt=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},at=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const st=(0,rt.v)(function(e,t){return{fetching:!1,restoring:!1,progress:!1,archives:[],downloadUrl:"",fields:[],noData:!1,deleteArchives:function(r){return nt(void 0,void 0,void 0,function(){var n,a;return at(this,function(s){switch(s.label){case 0:return n=t().archives.filter(function(e){return r.includes(e.id)}),e(function(e){return{archives:e.archives.filter(function(e){return!r.includes(e.id)})}}),(a={}).archives=n,[4,q.oR.promise((0,z.Eo)("delete_archives",a),{pending:(0,w.__)("Deleting…","burst-statistics"),success:(0,w.__)("Archives deleted successfully!","burst-statistics"),error:(0,w.__)("Failed to delete archive","burst-statistics")})];case 1:return s.sent(),[2]}})})},fetchData:function(r){return nt(void 0,void 0,void 0,function(){var n,a,s,i;return at(this,function(o){switch(o.label){case 0:return r?t().fetching?[2]:(e({fetching:!0}),n={},[4,(0,z.Eo)("get_archives",n).then(function(e){return e}).catch(function(e){console.error(e)})]):[2];case 1:return a=o.sent(),s=a.archives,i=a.downloadUrl,e(function(){return{archives:s,downloadUrl:i,fetching:!1,restoring:s.some(function(e){return!0===e.restoring})}}),[2]}})})},startRestoreArchives:function(t){return nt(void 0,void 0,void 0,function(){return at(this,function(r){switch(r.label){case 0:return e({restoring:!0,progress:0}),e(function(e){return{archives:e.archives.map(function(e){return t.includes(e.id)&&(e.restoring=!0),e})}}),[4,q.oR.promise((0,z.Eo)("start_restore_archives",{archives:t}),{pending:(0,w.__)("Starting restore…","burst-statistics"),success:(0,w.__)("Restore successfully started!","burst-statistics"),error:(0,w.__)("Failed to start restore process.","burst-statistics")})];case 1:return r.sent(),[2]}})})},fetchRestoreArchivesProgress:function(){return nt(void 0,void 0,void 0,function(){var r,n,a,s,i;return at(this,function(o){switch(o.label){case 0:return e({restoring:!0}),[4,(0,z.Eo)("get_restore_progress",{}).then(function(e){return e}).catch(function(e){console.error(e)})];case 1:return r=o.sent(),n=r.progress,a=r.noData,s=!1,100>n&&(s=!0),e({progress:n,restoring:s,noData:a}),100===n&&(i=t().archives.filter(function(e){return!e.restoring}),e({archives:i})),[2,{progress:n,noData:a,restoring:s}]}})})}}});var it=r(86274),ot=function(){return ot=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ot.apply(this,arguments)},lt=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})},ct=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},ut=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},dt=(0,a.forwardRef)(function(){var e=(0,a.useState)(""),t=e[0],r=e[1],s=(0,a.useState)([]),i=s[0],o=s[1],l=(0,a.useState)(!1),c=l[0],u=l[1],d=(0,a.useState)({}),f=d[0],p=d[1],b=(0,a.useState)(!1),m=b[0],h=b[1],v=(0,a.useState)(!1),g=v[0],y=v[1],x=(0,a.useState)("title"),j=x[0],_=x[1],N=(0,a.useState)("asc"),O=N[0],S=N[1],k=(0,a.useState)(0),A=k[0],C=k[1],P=st(function(e){return e.archives}),I=st(function(e){return e.fetching}),D=st(function(e){return e.fetchData}),E=st(function(e){return e.deleteArchives}),F=st(function(e){return e.downloadUrl}),L=st(function(e){return e.startRestoreArchives}),R=st(function(e){return e.fetchRestoreArchivesProgress}),T=st(function(e){return e.restoring}),q=st(function(e){return e.progress}),z=(0,it.A)().addNotice,G=(0,Re.A)().isPro,M=(0,ve.I)({queryFn:function(){return R()},queryKey:["restore-archives-progress"],refetchInterval:!!T&&5e3}).isFetching;(0,a.useEffect)(function(){M||void 0===q||C(q)},[M,q]),(0,a.useEffect)(function(){M||void 0===q||C(q)},[M,q]),(0,a.useEffect)(function(){if(T&&!(100<=A)){var e=setInterval(function(){C(function(e){return!M&&100>e?Math.min(e+1,99):e})},2e3);return function(){return clearInterval(e)}}},[T,M,A]),(0,a.useEffect)(function(){T||C(0)},[T]),(0,a.useEffect)(function(){var e=!0;return lt(void 0,void 0,void 0,function(){return ct(this,function(t){switch(t.label){case 0:return e?[4,D(G)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})}),function(){e=!1}},[G,D]);var U=function(e){try{0===e.length&&(y(!1),h(!1)),o(e)}catch(e){console.log("Component unmounted, ignoring state update")}},V=function(e){var r=ut([],e,!0);return(r=B(r,j,O)).filter(function(e){return e.title.toLowerCase().includes(t.toLowerCase())})},B=function(e,t,r){if(0===e.length)return e;var n="asc"===r?1:-1;r!==O&&S(r);var a=function(e){var t=e.split(" "),r=t[0],n=t[1];return parseFloat(r)*{B:1,KB:1024,MB:1048576}[n]};return-1!==t.toString().indexOf("title")&&"title"!==j?_("title"):-1!==t.toString().indexOf("size")&&"size"!==j&&_("size"),"title"===j?e.sort(function(e,t){var r=e.id.replace(".zip","").split("-").map(Number),a=r[0],s=r[1],i=t.id.replace(".zip","").split("-").map(Number),o=i[0],l=i[1];return a!==o?n*(a-o):n*(s-l)}):"size"===j&&e.sort(function(e,t){var r=a(e.size),s=a(t.size);return n*(r-s)}),e},K=[{name:(0,n.jsx)("input",{type:"checkbox",className:m?"burst-indeterminate":"",checked:g,disabled:I||0===P.length||T,onChange:function(e){return function(e){if(e){y(!0);var t=f.currentPage?f.currentPage:1,r=V(P).slice(10*(t-1),10*t);o(r.map(function(e){return e.id}))}else y(!1),o([]);h(!1)}(e.target.checked)}}),selector:function(e){return e.selectControl},width:"60px"},{name:(0,w.__)("Archive","burst-statistics"),selector:function(e){return e.title},sortable:!0},{name:(0,w.__)("Size","burst-statistics"),selector:function(e){return e.size},sortable:!0,width:"120px",style:{justifyContent:"flex-end"}}],$=V(P),W=[];$.forEach(function(e){var t=ot({},e);t.selectControl=(0,n.jsx)("input",{type:"checkbox",className:"m-0",disabled:t.restoring||T,checked:i.includes(t.id),onChange:function(e){return function(e,t){var r=ut([],i,!0);e?r.includes(t)||(r.push(t),o(r)):(r=ut([],i.filter(function(e){return e!==t}),!0),o(r));var n=f.currentPage?f.currentPage:1,a=V(P).slice(10*(n-1),10*n),s=!0,l=!1;a.forEach(function(e){r.includes(e.id)?l=!0:s=!1}),s?(y(!0),h(!1)):l?(y(!1),h(!0)):h(!1)}(e.target.checked,t.id)}}),W.push(t)});var H=1<i.length;if(!H&&1===i.length){var Q=P.filter(function(e){return i.includes(e.id)});H=Object.prototype.hasOwnProperty.call(Q,0)&&""!==Q[0].download_url}var Z=T?A:0;return(0,n.jsxs)("div",{className:"w-full p-6",children:[(0,n.jsxs)("div",{className:"flex py-2.5 px-6 justify-between",children:[(0,n.jsx)("input",{type:"text",placeholder:(0,w.__)("Search","burst-statistics"),value:t,onChange:function(e){return r(e.target.value)}}),T&&(0,n.jsxs)("div",{className:"flex items-center justify-end text-gray-400 w-full gap-1 restore-processing",children:[Z," %",(0,n.jsx)(re.A,{name:"loading",color:"gray"})]})]}),0<i.length&&(0,n.jsx)("div",{className:"mt-[10px] mb-[10px] items-center bg-blue-light py-2.5 px-6 flex space-y-2",children:(0,n.jsxs)("div",{className:"flex mb-4 mt-4 justify-between items-center w-full",children:[(0,n.jsx)("div",{children:0<i.length&&(0,w.sprintf)((0,w._n)("%s item selected","%s items selected",i.length,"burst-statistics"),i.length)}),(0,n.jsxs)("div",{className:"flex gap-2.5",children:[H&&(0,n.jsxs)("button",{disabled:c||q&&100>q,className:"burst-button burst-button--secondary",onClick:function(e){return function(e){return lt(void 0,void 0,void 0,function(){var t,r;return ct(this,function(n){switch(n.label){case 0:return e.preventDefault(),t=P.filter(function(e){return i.includes(e.id)}),u(!0),r=function(){return lt(void 0,void 0,void 0,function(){var e,n,a,s;return ct(this,function(i){switch(i.label){case 0:if(!(0<t.length))return[3,5];e=t.shift(),n=F+e.id,i.label=1;case 1:return i.trys.push([1,3,,4]),(a=new XMLHttpRequest).responseType="blob",a.open("get",n,!0),a.send(),a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var r=window.URL.createObjectURL(this.response),n=window.document.createElement("a");n.href=r,n.download=e.title,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),U(t.map(function(e){return e.id})),u(!1),setTimeout(function(){window.URL.revokeObjectURL(r)},6e4)}},[4,r()];case 2:return i.sent(),[3,4];case 3:return s=i.sent(),console.error(s),u(!1),[3,4];case 4:return[3,6];case 5:u(!1),i.label=6;case 6:return[2]}})})},[4,r()];case 1:return n.sent(),[2]}})})}(e)},children:[(0,w.__)("Download","burst-statistics"),c&&(0,n.jsx)(re.A,{name:"loading",color:"gray"})]}),(0,n.jsxs)("button",{disabled:q&&100>q,className:"burst-button burst-button--primary",onClick:function(e){return function(e,t){return lt(void 0,void 0,void 0,function(){return ct(this,function(r){switch(r.label){case 0:return e.preventDefault(),U([]),[4,L(t)];case 1:return r.sent(),z("archive_data","warning",(0,w.__)("Because restoring files can conflict with the archiving functionality, archiving has been disabled.","burst-statistics"),(0,w.__)("Archiving disabled","burst-statistics")),[2]}})})}(e,i)},children:[(0,w.__)("Restore","burst-statistics"),100>q&&(0,n.jsx)(re.A,{name:"loading",color:"gray"})]}),(0,n.jsx)("button",{disabled:q&&100>q,className:"burst-button burst-button--tertiary",onClick:function(e){return function(e,t){return lt(void 0,void 0,void 0,function(){return ct(this,function(r){switch(r.label){case 0:return e.preventDefault(),U([]),[4,E(t)];case 1:return r.sent(),[2]}})})}(e,i)},children:(0,w.__)("Delete","burst-statistics")})]})]})}),Y.Ay&&(0,n.jsx)(Y.Ay,{columns:K,data:W,dense:!0,paginationPerPage:10,onChangePage:function(e){p(ot(ot({},f),{currentPage:e}))},paginationState:f,persistTableHead:!0,defaultSortFieldId:2,pagination:!0,paginationRowsPerPageOptions:[10,25,50],paginationComponentOptions:{rowsPerPageText:"",rangeSeparatorText:(0,w.__)("of","burst-statistics"),noRowsPerPage:!1,selectAllRowsItem:!0,selectAllRowsItemText:(0,w.__)("All","burst-statistics")},noDataComponent:(0,n.jsx)("div",{className:"p-8",children:(0,w.__)("No archives","burst-statistics")}),sortFunction:B})]})});dt.displayName="RestoreArchivesField";const ft=dt;var pt=r(65825),bt=r(32531),mt=function(){return mt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mt.apply(this,arguments)},ht=(0,a.forwardRef)(function(e){var t,r=e.field,a=e.fieldState,s=e.label,i=e.help,o=e.context,l=e.className,c=e.recommended,u=e.disabled,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className","recommended","disabled"]),p=d.id||r.name,b=d.options||{};return(0,n.jsx)(f.A,mt({label:s,help:i,error:null===(t=null==a?void 0:a.error)||void 0===t?void 0:t.message,context:o,className:l,inputId:p,required:d.required,recommended:c,disabled:u},d,{children:(0,n.jsx)("div",{className:"space-y-4",children:Object.entries(b).map(function(e){var t=e[0],a=e[1],s="string"==typeof a?a:a.label,i="object"==typeof a&&a.context?a.context:null,o="object"==typeof a&&!0===a.recommended;return(0,n.jsx)("div",{className:"space-y-1",children:(0,n.jsx)("div",{className:"flex items-start gap-2 rounded-md border border-gray-400 bg-gray-100 px-3 py-2",children:(0,n.jsxs)(pt.A,{id:"".concat(p,"-").concat(t),name:r.name,value:t,label:s,checked:r.value===t,disabled:u,onChange:function(e){return r.onChange(e)},className:l,children:[o&&(0,n.jsx)(bt.A,{}),i&&(0,n.jsx)("div",{className:"text-sm font-light text-gray",children:i})]})})},"".concat(p,"-").concat(t))})})}))});ht.displayName="RadioField";const vt=ht;var gt=function(){return gt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},gt.apply(this,arguments)},yt=["email_reports_mailinglist","burst_tour_shown_once","license","review_notice_shown","burst_update_to_city_geo_database_time","filtering_by_domain","goals","import_settings","export_settings"],xt=(0,a.forwardRef)(function(e){var t,r=e.field,s=e.fieldState,i=e.label,o=e.help,l=e.context,c=e.className,u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className"]),d=(0,it.A)(),p=d.settings,b=d.saveSettings,m=d.isSavingSettings,h=(0,a.useState)(!1),v=h[0],g=h[1],y=(0,a.useState)(!0),x=y[0],j=y[1],_=(0,a.useState)(!1),N=_[0],O=_[1],S=(0,a.useState)(null),k=S[0],A=S[1],P=(0,a.useState)(""),I=P[0],D=P[1],E=(0,a.useRef)(null);(0,a.useEffect)(function(){if(!v)return j(!0),A(null),void D("");A(null),D(""),"application/json"===v.type||v.name.endsWith(".json")?j(!1):(j(!0),A("error"),D((0,w.__)("You can only upload .json files!","burst-statistics")),q.oR.error((0,w.__)("You can only upload .json files!","burst-statistics")))},[v]);var F=u.id||r.name,L="error"===k?I:null===(t=null==s?void 0:s.error)||void 0===t?void 0:t.message,R=N||m;return(0,n.jsx)(f.A,gt({label:i,help:o,error:L,warning:"success"===k?null:void 0,context:l,className:c,inputId:F,required:u.required,recommended:u.recommended,disabled:u.disabled},u,{children:(0,n.jsxs)("div",{className:"flex flex-col gap-3 w-full",children:[v&&(0,n.jsxs)("div",{className:(0,ze.$)("flex items-center gap-2 px-3 py-2 rounded border","success"===k&&"bg-green-50 border-green-200","error"===k&&"bg-red-50 border-red-200",!k&&"bg-gray-50 border-gray-200"),children:[(0,n.jsx)(re.A,{name:"file",color:"success"===k?"green":"error"===k?"red":"gray"}),(0,n.jsx)("span",{className:(0,ze.$)("flex-1 text-sm font-medium","success"===k&&"text-green-700","error"===k&&"text-red-700",!k&&"text-gray-700"),children:v.name}),!R&&(0,n.jsx)("button",{type:"button",onClick:function(){g(!1),A(null),D(""),E.current&&(E.current.value="")},className:"p-1 rounded hover:bg-gray-200 transition-colors","aria-label":(0,w.__)("Clear file selection","burst-statistics"),title:(0,w.__)("Clear file selection","burst-statistics"),children:(0,n.jsx)(re.A,{name:"times",size:16,color:"gray"})})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,n.jsx)("input",{ref:E,type:"file",accept:".json,application/json",onChange:function(e){var t=e.target.files[0];t&&g(t)},className:"hidden",id:"".concat(F,"-file-input"),"aria-label":(0,w.__)("Upload settings file (.json)","burst-statistics")}),(0,n.jsx)(C.A,{btnVariant:"tertiary",onClick:function(){var e;null===(e=E.current)||void 0===e||e.click()},disabled:u.disabled||R,ariaLabel:(0,w.__)("Upload settings file (.json)","burst-statistics"),children:(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(re.A,{name:"upload",color:"black"}),(0,w.__)("Upload settings file (.json)","burst-statistics")]})}),(0,n.jsx)(C.A,{btnVariant:"secondary",disabled:x||R||!v,onClick:function(){return e=void 0,t=void 0,n=function(){var e,t,r,n,a;return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(s){switch(s.label){case 0:if(!v)return[2];j(!0),O(!0),A(null),D(""),s.label=1;case 1:return s.trys.push([1,4,5,6]),[4,(i=v,new Promise(function(e,t){var r=new FileReader;r.onload=function(t){return e(t.target.result)},r.onerror=function(){return t(new Error((0,w.__)("Failed to read the file.","burst-statistics")))},r.readAsText(i)}))];case 2:return e=s.sent(),t=function(e){var t;try{t=JSON.parse(e)}catch(e){throw new Error((0,w.__)("The JSON file is malformed or invalid.","burst-statistics"))}if(!t||!t.settings||"object"!=typeof t.settings)throw new Error((0,w.__)("The file does not contain valid settings data.","burst-statistics"));return t}(e),r=function(e){if(!p)throw new Error((0,w.__)("Settings not loaded. Please refresh the page.","burst-statistics"));var t={};p.forEach(function(e){yt.includes(e.id)||(t[e.id]=e.default)});var r=p.map(function(e){return e.id});return Object.entries(e).forEach(function(e){var n=e[0],a=e[1];yt.includes(n)||r.includes(n)&&(t[n]=a)}),t}(t.settings),[4,b(r)];case 3:return s.sent(),A("success"),D((0,w.__)("Settings imported successfully!","burst-statistics")),g(!1),E.current&&(E.current.value=""),[3,6];case 4:return n=s.sent(),a=n.message||(0,w.__)("An unexpected error occurred while importing settings.","burst-statistics"),A("error"),D(a),q.oR.error(a),[3,6];case 5:return O(!1),j(!1),[7];case 6:return[2]}var i})},new((r=void 0)||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())});var e,t,r,n},children:R?(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(re.A,{name:"loading",color:"white"}),(0,w.__)("Importing...","burst-statistics")]}):(0,w.__)("Import","burst-statistics")})]})]})}))});xt.displayName="UploadField";const jt=xt;var wt=function(){return wt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},wt.apply(this,arguments)},_t=["email_reports_mailinglist","burst_tour_shown_once","license","review_notice_shown","burst_update_to_city_geo_database_time","filtering_by_domain","goals","import_settings","export_settings"],Nt=(0,a.forwardRef)(function(e,t){var r,s=e.field,i=e.fieldState,o=e.label,l=e.help,c=e.context,u=e.className,d=e.setting,p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["field","fieldState","label","help","context","className","setting"]),b=(0,it.A)().settings,m=(0,a.useState)(!1),h=m[0],v=m[1],g=p.id||s.name;return(0,n.jsx)(f.A,wt({label:o,help:l,error:null===(r=null==i?void 0:i.error)||void 0===r?void 0:r.message,context:c,inputId:g,className:u,alignWithLabel:!1,recommended:p.recommended,disabled:p.disabled},p,{children:(0,n.jsx)(C.A,{ref:t,onClick:function(){if(b&&0!==b.length){v(!0);try{var e={};b.forEach(function(t){_t.includes(t.id)||void 0!==t.value&&(e[t.id]=t.value)});var t={settings:e},r=JSON.stringify(t,null,2),n=new Blob([r],{type:"application/json"}),a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download="burst-settings.json",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a),q.oR.success((0,w.__)("Settings exported successfully!","burst-statistics"))}catch(e){console.error("Export error:",e),q.oR.error((0,w.__)("Failed to export settings.","burst-statistics"))}finally{v(!1)}}else q.oR.error((0,w.__)("No settings available to export.","burst-statistics"))},disabled:p.disabled||h||!b,btnVariant:"tertiary",ariaLabel:(null==d?void 0:d.button_text)||(0,w.__)("Download settings file","burst-statistics"),children:(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(re.A,{name:h?"loading":"download",color:"black"}),h?(0,w.__)("Exporting...","burst-statistics"):(null==d?void 0:d.button_text)||(0,w.__)("Download settings file","burst-statistics")]})})}))});Nt.displayName="ExportSettingsField";var Ot=function(){return Ot=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ot.apply(this,arguments)},St={text:m,number:Ze,api:j,hidden:j,checkbox:R,textarea:A,ip_blocklist:D,button:$,email_reports:ee,checkbox_group:oe,goals:Te,license:Ke,select:He,logo_editor:tt,restore_archives:ft,radio:vt,upload:jt,export_settings:Nt},kt=(0,a.memo)(function(e){var t,r=e.setting,a=e.control,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["setting","control"]),o=(0,Re.A)().isLicenseValid;if("goals"===r.type)return(0,n.jsx)(s.A,{children:(0,n.jsx)(Te,{})});var l=St[r.type];if(!l)return(0,n.jsxs)("div",{className:"w-full",children:["Unknown field type: ",r.type," ",r.id]});var c=Ot(Ot(Ot(Ot(Ot(Ot(Ot({},r.required&&{required:{value:!0,message:r.requiredMessage||(0,w.__)("This field is required","burst-statistics")}}),(null===(t=r.validation)||void 0===t?void 0:t.regex)&&{pattern:{value:new RegExp(r.validation.regex),message:r.validation.message||(0,w.__)("Invalid format","burst-statistics")}}),function(){var e;if("ip_blocklist"===r.type){var t=/^((25[0-5]|2[0-4]\d|1?\d{1,2})\.){3}(25[0-5]|2[0-4]\d|1?\d{1,2})$/,n=/^((?:[0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4}|(?:[0-9A-Fa-f]{1,4}:){1,7}:|:(?::[0-9A-Fa-f]{1,4}){1,7}|(?:[0-9A-Fa-f]{1,4}:){1,6}:[0-9A-Fa-f]{1,4}|(?:[0-9A-Fa-f]{1,4}:){1,5}(?::[0-9A-Fa-f]{1,4}){1,2}|(?:[0-9A-Fa-f]{1,4}:){1,4}(?::[0-9A-Fa-f]{1,4}){1,3}|(?:[0-9A-Fa-f]{1,4}:){1,3}(?::[0-9A-Fa-f]{1,4}){1,4}|(?:[0-9A-Fa-f]{1,4}:){1,2}(?::[0-9A-Fa-f]{1,4}){1,5}|[0-9A-Fa-f]{1,4}:(?:(?::[0-9A-Fa-f]{1,4}){1,6})|::(?:ffff(?::0{1,4})?:)?(?:(25[0-5]|2[0-4]\d|1?\d{1,2})\.){3}(25[0-5]|2[0-4]\d|1?\d{1,2}))$/,a=function(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n").map(function(e){return e.trim()}).filter(function(e){return""!==e})};return{validate:{validIps:function(e){if(!e)return!0;var r=a(e);if(0===r.length)return!0;var s=r.filter(function(e){return!function(e){return t.test(e)||n.test(e)}(e)});return 0===s.length||(0,w.__)("Invalid IP address format:","burst-statistics")+s.join(", ")},noDuplicates:function(e){if(!e)return!0;var t=a(e);if(0===t.length)return!0;var r={};t.forEach(function(e){var t=function(e){return e.toLowerCase()}(e);r[t]=(r[t]||0)+1});var n=Object.entries(r).filter(function(e){return 1<e[1]}).map(function(e){return e[0]});return 0===n.length||(0,w.__)("Duplicate IP addresses found:","burst-statistics")+n.join(", ")}}}}return(null===(e=r.validation)||void 0===e?void 0:e.validate)?{validate:r.validation.validate}:{}}()),"number"===r.type&&void 0!==r.min&&{min:{value:r.min,message:(0,w.sprintf)((0,w.__)("Value must be at least %s","burst-statistics"),r.min)}}),"number"===r.type&&void 0!==r.max&&{max:{value:r.max,message:(0,w.sprintf)((0,w.__)("Value must be at most %s","burst-statistics"),r.max)}}),r.minLength&&{minLength:r.minLength}),r.maxLength&&{maxLength:r.maxLength}),d=r.disabled||r.pro&&!o||i.settingsIsUpdating;return(0,n.jsx)(s.A,{children:(0,n.jsx)(u.xI,{name:r.id,control:a,rules:c,defaultValue:r.value||r.default,render:function(e){var t=e.field,s=e.fieldState;return(0,n.jsx)(l,Ot({field:t,fieldState:s,control:a,required:r.required,label:r.label||r.id,disabled:d,context:r.context,help:r.help,options:r.options,setting:r,recommended:r.recommended,pro:r.pro},i))}})})});kt.displayName="Field";const At=kt;var Ct=r(31980),Pt=(0,a.memo)(function(e){var t=e.group,r=e.fields,a=e.control,i=e.isLastGroup,u=(0,Re.A)().isLicenseValid,d=(0,ze.A)("p-0",i?"rounded-b-none":"mb-5","license"===t.id?"":"pb-4");return 0===r.length?null:(0,n.jsxs)(o.e,{className:d,children:[t.pro&&!u&&(0,n.jsx)(Ct.A,{className:"backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("h4",{children:(0,w.__)("Unlock Advanced Features with Burst Pro","burst-statistics")}),(0,n.jsxs)("p",{children:[(0,w.__)("This setting is exclusive to Pro users.","burst-statistics"),t.pro&&t.pro.text&&" "+t.pro.text]}),t.pro.url&&(0,n.jsx)(C.A,{className:"text-center",target:"_blank",link:{to:t.pro.url},btnVariant:"primary",btnSize:"small",children:(0,w.__)("Upgrade to Pro","burst-statistics")})]})}),(0,n.jsx)(l.q,{title:t.title,className:"burst-settings-group-block"}),(0,n.jsxs)(c.t,{className:"p-0",children:[t.description&&(0,n.jsx)("h3",{className:"mb-5 text-sm",children:t.description}),(0,n.jsx)("div",{className:"flex flex-wrap",children:r.map(function(e){return(0,n.jsx)(s.A,{fallback:"Could not load field",children:(0,n.jsx)(At,{setting:e,control:a})},e.id)})})]})]},t.id)});Pt.displayName="SettingsGroupBlock";const It=Pt;var Dt=function(){var e=(0,a.useState)(0),t=e[0],r=e[1],s=(0,a.useState)(!1),i=s[0],o=s[1],l=(0,a.useCallback)(function(){var e=document.documentElement.scrollHeight-window.innerHeight;0<e?(r(Math.round(window.scrollY/e*100)),o(!0)):o(!1)},[]);return(0,a.useEffect)(function(){l();var e=["scroll","resize","load"];e.forEach(function(e){return window.addEventListener(e,l)});var t=new MutationObserver(l);return t.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),function(){e.forEach(function(e){return window.removeEventListener(e,l)}),t.disconnect()}},[l]),i?(0,n.jsx)("div",{className:"h-1 w-full bg-gray-400",children:(0,n.jsx)("div",{className:"h-full bg-blue transition-all duration-300 ease-out",style:{width:"".concat(10+Math.min(t,90),"%")}})}):null};Dt.displayName="FormScrollProgressLine";const Et=Dt;function Ft(e){var t=e.onSubmit,r=e.control,a=(0,u.lN)({control:r}),s=a.isDirty,i=a.isSubmitting,o=a.isValidating,l=[{condition:i,message:(0,w.__)("Saving…","burst-statistics"),color:"black"},{condition:o,message:(0,w.__)("Validating…","burst-statistics"),color:"black"},{condition:s,message:(0,w.__)("You have unsaved changes","burst-statistics"),color:"black"}].find(function(e){return e.condition});return(0,n.jsxs)("div",{className:"sticky bottom-0 start-0 z-10 rounded-b-md border-b border-r border-l border-gray-300 bg-gray-100 shadow-[0_-8px_15px_-3px_rgba(0,0,0,0.05),0_4px_6px_-2px_rgba(0,0,0,0.05)]",children:[(0,n.jsx)(Et,{}),(0,n.jsxs)("div",{className:"flex flex-row items-center justify-end gap-2 p-5",children:[(null==l?void 0:l.message)&&(0,n.jsx)("div",{className:"flex gap-2 items-center py-1 px-2 rounded-md transition-opacity duration-150"+((null==l?void 0:l.message)?" opacity-100":" opacity-0")+("red"===(null==l?void 0:l.color)?" bg-red-light border border-red":""),children:(0,n.jsx)("span",{className:"text-sm"+("red"===(null==l?void 0:l.color)?" font-semibold text-red":" italic text-gray-900"),children:null==l?void 0:l.message})}),(0,n.jsx)(C.A,{className:"burst-save",onClick:t,children:(0,w.__)("Save","burst-statistics")})]})]})}Ft.displayName="FormFooter";const Lt=Ft;var Rt=function(){return Rt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Rt.apply(this,arguments)};const Tt=function(e){var t=e.currentSettingPage,r=(0,it.A)(),o=r.settings,l=r.saveSettings,c=(0,i.A)().saveGoals,d=t.id,f=(0,a.useMemo)(function(){return qt(o,d)},[o,d]),p=(0,u.mN)({defaultValues:f}),b=p.handleSubmit,m=p.control,h=p.formState.dirtyFields,v=p.reset,g=(0,u.FH)({control:m}),y=(0,a.useMemo)(function(){var e=[];return t.groups.forEach(function(t){var r=o.filter(function(e){return e.menu_id===d&&e.group_id===t.id}).map(function(e){if(!e.react_conditions)return e;var t=Object.entries(e.react_conditions).filter(function(e){return"action"!==e[0]}).every(function(e){var t,r=e[0],n=e[1],a=null!==(t=null==g?void 0:g[r])&&void 0!==t?t:f[r];return"boolean"==typeof n&&(a=1===a||!0===a||"1"===a),Array.isArray(n)?Array.isArray(a)?n.some(function(e){return Array.isArray(e)&&a.length===e.length&&a.every(function(t,r){return t===e[r]})}):n.includes(a):a===n});return"disable"===(e.react_conditions.action||"hide")?Rt(Rt({},e),{disabled:!t}):t?e:null}).filter(Boolean);0<r.length&&e.push(Rt(Rt({},t),{fields:r}))}),e},[o,d,t.groups,g]);return(0,n.jsx)("form",{children:(0,n.jsxs)(s.A,{fallback:"Could not load Settings",children:[y.map(function(e,t){var r=t===y.length-1;return(0,n.jsx)(It,{group:e,fields:e.fields,control:m,isLastGroup:r},e.id)}),"license"!==d&&(0,n.jsx)(Lt,{onSubmit:b(function(e){var t=Object.keys(h).reduce(function(t,r){return t[r]=e[r],t},{});l(t).then(function(){v(e,{keepValues:!0,keepDefaultValues:!1})}),c()}),control:m})]})})};var qt=function(e,t){var r={};return e.forEach(function(e){if(e.menu_id===t){var n=void 0!==e.value&&""!==e.value;r[e.id]=n?e.value:e.default}}),Rt({},r)},zt=r(48474),Gt=(0,a.memo)(function(e){var t=e.className,r=void 0===t?"":t,a=e.children,s=e.title,i=e.isOpen,l=e.onToggle;return(0,n.jsx)(o.e,{className:r,children:(0,n.jsxs)("details",{className:"group",open:i,onToggle:function(e){return l(e.currentTarget.open)},children:[(0,n.jsxs)("summary",{className:"flex cursor-pointer items-center justify-between p-4 hover:bg-gray-50 hover:rounded-xl",children:[(0,n.jsx)("span",{className:"text-base font-medium text-black",children:s}),(0,n.jsx)("svg",{className:"h-5 w-5 text-gray transition-transform group-open:rotate-180",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),(0,n.jsx)("div",{className:"p-4 pt-2",children:a})]})})});Gt.displayName="CollapsableBlock";var Mt=function(e){var t=e.settingsGroup,r=(0,it.A)().settings.filter(function(e){return e.notice&&e.menu_id===t.id}),s=(0,a.useState)(r.map(function(){return!1})),i=s[0],o=s[1];if(!r.length)return null;var l=i.filter(function(e){return e}).length>r.length/2?(0,w.__)("Collapse all","burst-statistics"):(0,w.__)("Expand all","burst-statistics");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex w-full justify-between",children:[(0,n.jsx)("h2",{className:"py-4 text-base font-bold",children:(0,w.__)("Notifications","burst-statistics")}),(0,n.jsx)("button",{className:"cursor-pointer text-sm text-gray underline",onClick:function(){var e=i.filter(function(e){return e}).length<=notices.length/2;o(notices.map(function(){return e}))},children:l})]}),0<r.length&&r.map(function(e,t){return(0,n.jsx)(Gt,{title:e.notice.title,className:"mb-4 w-full flex-1 !bg-accent-light",isOpen:i[t],onToggle:function(e){return function(e,t){o(function(r){var n=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([],r,!0);return n[e]=t,n})}(t,e)},children:(0,n.jsxs)("div",{className:"flex flex-col justify-start",children:[(0,n.jsx)("p",{className:"text-base font-normal",children:e.notice.description}),e.notice.url&&""!==e.notice.url&&(0,n.jsx)(zt.N_,{className:"mt-2 text-base text-gray underline",to:e.notice.url,from:"/",children:(0,w.__)("Learn more","burst-statistics")})]})},t)})]})};Mt.displayName="SettingsNotices";const Ut=Mt;var Vt=r(55195);function Bt(){var e=Vt.q.useLoaderData().currentItem;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"col-span-12 lg:col-span-6 flex flex-col",children:(0,n.jsx)(Tt,{currentSettingPage:e})}),(0,n.jsx)("div",{className:"col-span-12 lg:col-span-3",children:(0,n.jsx)(Ut,{settingsGroup:e})})]})}},91788:(e,t,r)=>{r.d(t,{Ad:()=>E,BM:()=>x,Ee:()=>N,Iq:()=>S,Nj:()=>v,YP:()=>I,Yo:()=>L,ZV:()=>_,cA:()=>C,cf:()=>P,fU:()=>w,fs:()=>g,gs:()=>h,ii:()=>k,kz:()=>R,oI:()=>y,qQ:()=>O,vd:()=>j,vv:()=>F});var n=r(38443),a=r(71109),s=r(18553),i=r(44184),o=r(67201),l=r(73177),c=r(52368),u=r(89717),d=r(48145),f=r(72442),p=r(6374),b=r(58357),m=r(27723),h=function(e,t){if(void 0===t&&(t=new Date),"number"==typeof e&&(e=new Date(1e3*e)),!(e instanceof Date))return"-";var r={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},n=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),a=e-t;for(var s in r)if(Math.abs(a)>r[s]||"second"===s)return n.format(Math.round(a/r[s]),s);return"-"},v=function(e,t,r){void 0===r&&(r=!0);var n=(e=Number(e))/(t=Number(t));return isNaN(n)&&(n=0),r?new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(n):n};function g(e,t){var r={},n=((e=Number(e))-(t=Number(t)))/t;return isNaN(n)&&(n=0),r.val=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1,signDisplay:"exceptZero"}).format(n),r.status=0<n?"positive":"negative",n===1/0&&(r.val="",r.status="positive"),r}function y(e,t){var r={},n=((e=Number(e))-(t=Number(t)))/100;return isNaN(n)&&(n=0),r.val=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1,signDisplay:"exceptZero"}).format(n),r.status=0<n?"positive":"negative",n===1/0&&(r.val="",r.status="positive"),r}var x=function(e){return(0,n.dateI18n)(burst_settings.date_format,new Date(1e3*e))},j=function(e){return e&&("number"==typeof e||Date.parse(e)>=16409952e5)};function w(e){void 0===e&&(e=0);var t=Number(e);isNaN(t)&&(t=0);var r=Math.floor(t/1e3),n=Math.floor(r/3600),a=Math.floor((r-3600*n)/60),s=r-3600*n-60*a,i=function(e){return isNaN(e)?"00":String(e).padStart(2,"0")};return 0===n?[a,s].map(i).join(":"):[n,a,s].map(i).join(":")}function _(e,t){return void 0===t&&(t=1),e=Number(e),isNaN(e)&&(e=0),1e3>e&&(t=0),new Intl.NumberFormat(void 0,{style:"decimal",notation:"compact",compactDisplay:"short",maximumFractionDigits:t}).format(e)}function N(e,t){return void 0===t&&(t=1),e=Number(e),isNaN(e)&&(e=0),0===e?"0%":0<e&&.1>e?"<0.1%":new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:t}).format(e/100)}function O(e){return e?burst_settings.countries[e.toUpperCase()]||(0,m.__)("Not set","burst-statistics"):(0,m.__)("Unknown","burst-statistics")}function S(e){return e?burst_settings.continents[e.toUpperCase()]||(0,m.__)("Not set","burst-statistics"):(0,m.__)("Unknown","burst-statistics")}function k(e){void 0===e&&(e=new Date);var t=-60*e.getTimezoneOffset(),r=Math.floor(e.getTime()/1e3)+3600*burst_settings.gmt_offset-t;return new Date(1e3*r)}var A=k(),C={today:{label:(0,m.__)("Today","burst-statistics"),range:function(){return{startDate:(0,f.default)(A),endDate:(0,o.default)(A)}}},yesterday:{label:(0,m.__)("Yesterday","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(A,-1)),endDate:(0,o.default)((0,a.default)(A,-1))}}},"last-7-days":{label:(0,m.__)("Last 7 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(A,-7)),endDate:(0,o.default)((0,a.default)(A,-1))}}},"last-30-days":{label:(0,m.__)("Last 30 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(A,-30)),endDate:(0,o.default)((0,a.default)(A,-1))}}},"last-90-days":{label:(0,m.__)("Last 90 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(A,-90)),endDate:(0,o.default)((0,a.default)(A,-1))}}},"last-month":{label:(0,m.__)("Last month","burst-statistics"),range:function(){return{startDate:(0,p.default)((0,s.default)(A,-1)),endDate:(0,l.default)((0,s.default)(A,-1))}}},"week-to-date":{label:(0,m.__)("Week to date","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(A,-A.getDay())),endDate:(0,o.default)(A)}}},"month-to-date":{label:(0,m.__)("Month to date","burst-statistics"),range:function(){return{startDate:(0,p.default)(A),endDate:(0,o.default)(A)}}},"year-to-date":{label:(0,m.__)("Year to date","burst-statistics"),range:function(){return{startDate:(0,b.A)(A),endDate:(0,o.default)(A)}}},"last-year":{label:(0,m.__)("Last year","burst-statistics"),range:function(){return{startDate:(0,b.A)((0,i.default)(A,-1)),endDate:(0,c.A)((0,i.default)(A,-1))}}}},P=function(e){return Object.values(e).filter(Boolean).map(function(e){var t=C[e];return t.isSelected=D,t})},I=function(e,t){var r="MMMM d, yyyy";return{startDate:e?(0,u.default)(new Date(e),r):"",endDate:t?(0,u.default)(new Date(t),r):""}};function D(e){var t=this.range();return(0,d.default)(e.startDate,t.startDate)&&(0,d.default)(e.endDate,t.endDate)}function E(e,t){if(void 0===t&&(t={}),!e||!t[e])return function(e){return _(e)};var r=t[e],n=r.isPercentage,a=r.isTime,s=r.precision,i=r.suffix;return function(e){if(null==e)return"";if(n)return N(e,s);if(a)return w(e);var t=_(e,s);return i&&(t+=i),t}}function F(e,t){return new Intl.NumberFormat(void 0,{style:"currency",currency:e,maximumFractionDigits:2,minimumFractionDigits:2,trailingZeroDisplay:"stripIfInteger"}).format(t)}function L(e,t){return new Intl.NumberFormat(void 0,{style:"currency",currency:e,notation:"compact",compactDisplay:"short",maximumFractionDigits:1}).format(t)}function R(e){if(!e)return"";try{var t=e instanceof Date?e:new Date(e);return isNaN(t.getTime())?"":new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(t)}catch(e){return""}}},94304:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(91637),a=r(51609),s=r.n(a),i=r(42617),o=r(2573),l=r(53411),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)},u=s().forwardRef(function(e,t){var r,a=e.value,s=e.onChange,o=e.options,c=(void 0===(r=void 0===o?[]:o)&&(r=[]),Array.isArray(r)?r:Object.entries(r).map(function(e){var t=e[0],r=e[1];return{value:t,label:String(r)}}));return(0,n.jsxs)(i.bL,{value:a,onValueChange:function(e){return s(e)},children:[(0,n.jsxs)(i.l9,{ref:t,className:"inline-flex items-center justify-center gap-1 rounded bg-white text-base leading-none outline outline-gray-400 px-2 py-2 hover:bg-gray-100 focus:shadow-[0_0_0_2px]",children:[(0,n.jsx)(i.WT,{placeholder:"Select an option…"}),(0,n.jsx)(i.In,{className:"text-base",children:(0,n.jsx)(l.A,{name:"chevron-down",color:"black",size:16,tooltip:"",className:""})})]}),(0,n.jsx)(i.ZL,{container:document.getElementById("modal-root"),children:(0,n.jsxs)(i.UC,{className:"bg-gray-100 text-black border border-gray-400 rounded-md shadow-lg ring-1 ring-black/5 z-[100] shadow-gray-400/50",position:"item-aligned",children:[(0,n.jsx)(i.PP,{className:"",children:(0,n.jsx)(l.A,{name:"chevron-up",color:"black",size:16,tooltip:"",className:""})}),(0,n.jsx)(i.LM,{className:"",children:c.map(function(e){return(0,n.jsx)(f,{value:e.value,children:e.label},e.value)})}),(0,n.jsx)(i.wn,{className:"text-base",children:(0,n.jsx)(l.A,{name:"chevron-down",color:"white",size:16,tooltip:"",className:""})})]})})]})});u.displayName="SelectInput";const d=u;var f=s().forwardRef(function(e,t){var r=e.children,a=e.className,s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["children","className"]);return(0,n.jsxs)(i.q7,c({ref:t,className:(0,o.$)("cursor-default px-2 py-2 text-base select-none flex items-center gap-1 flex-row overflow-hidden","hover:bg-gray-300 hover:text-black","focus:bg-gray-300","transition-all duration-200",a)},s,{children:[(0,n.jsx)("div",{className:"w-4 flex items-center",children:(0,n.jsx)(i.VF,{children:(0,n.jsx)(l.A,{name:"check",color:"black",size:16,tooltip:"",className:""})})}),(0,n.jsx)(i.p4,{children:r}),(0,n.jsx)("div",{className:"w-4 flex items-center"})]}))});f.displayName="SelectItem"},94976:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(91637),a=r(51609),s=r(34677),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},o=(0,a.forwardRef)(function(e,t){var r=e.value,a=e.onChange,o=e.disabled,l=e.required,c=e.size,u=void 0===c?"default":c,d=e.className,f=void 0===d?"":d,p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["value","onChange","disabled","required","size","className"]),b="string"==typeof r?"1"===r:Boolean(r),m="small"===u?"w-8 h-5":"w-10 h-6",h="small"===u?"w-3 h-3 translate-x-1 data-[state=checked]:translate-x-4":"w-4 h-4 translate-x-1 data-[state=checked]:translate-x-5";return(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(s.bL,i({ref:t,className:"".concat(m," bg-gray-400 rounded-full relative focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed data-[state=checked]:bg-primary ").concat(f),checked:b,onCheckedChange:a,disabled:o,required:l},p,{children:(0,n.jsx)(s.zi,{className:"block ".concat(h," bg-white rounded-full shadow transform transition-transform duration-200")})}))})});o.displayName="SwitchInput";const l=o},98371:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(91637),a=r(85373),s=r(53411);const i=function(e){var t=e.title,r=e.subtitle,i=void 0===r?"":r,o=e.customHeader,l=void 0===o?null:o,c=e.content,u=e.footer,d=e.triggerClassName,f=e.children,p=e.isOpen,b=e.onClose;return(0,n.jsxs)(a.bL,{open:p,onOpenChange:function(e){e||null==b||b()},children:[d&&(0,n.jsx)(a.l9,{className:d,children:f}),(0,n.jsxs)(a.ZL,{container:document.getElementById("modal-root"),children:[(0,n.jsx)(a.hJ,{className:"bg-black/50 fixed inset-0 z-50"}),(0,n.jsxs)(a.UC,{className:"fixed top-[55px] left-1/2 -translate-x-1/2 w-[calc(100%-20px)] max-h-[90vh] m-0 px-4 py-3 rounded-md z-50 bg-gray-100 shadow-md focus:outline-none data-[state=open]:animate-contentShow flex flex-col overflow-x-visible md:w-full md:max-w-[720px] md:m-3 md:absolute md:top-0",children:[(0,n.jsx)("div",{className:"flex flex-row justify-between items-center flex-shrink-0",children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex-1",children:l}),(0,n.jsx)(a.bm,{asChild:!0,children:(0,n.jsx)("button",{"aria-label":"Close",onClick:b,className:"bg-gray-200 rounded-full p-2 w-8 h-8 cursor-pointer hover:bg-gray-300 transition-colors duration-150 ml-4",children:(0,n.jsx)(s.A,{name:"times",size:18,color:"gray"})})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(a.hE,{className:"text-lg font-semibold text-black",children:t}),i&&(0,n.jsx)("p",{className:"text-sm text-gray-600",children:i})]}),(0,n.jsx)(a.bm,{asChild:!0,children:(0,n.jsx)("button",{"aria-label":"Close",onClick:b,className:"bg-gray-200 rounded-full p-2 w-8 h-8 cursor-pointer hover:bg-gray-300 transition-colors duration-150",children:(0,n.jsx)(s.A,{name:"times",size:18,color:"gray"})})})]})}),(0,n.jsx)(a.VY,{className:"text-base text-black mb-6 mt-4 flex-1 overflow-y-auto overflow-x-visible min-h-0",children:c}),u&&(0,n.jsx)("div",{className:"flex flex-row justify-end gap-2 flex-shrink-0 bottom-0 bg-gray-100 pt-4 border-t border-gray-200 mx-4 px-4",children:u})]})]})]})}}}]);