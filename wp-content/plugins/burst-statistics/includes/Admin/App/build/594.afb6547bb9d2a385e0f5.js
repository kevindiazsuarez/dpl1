"use strict";(self.webpackChunk_burst_statistics_burst_statistics=self.webpackChunk_burst_statistics_burst_statistics||[]).push([[594],{8353:(t,e,n)=>{n.d(e,{A:()=>m});var r=n(91637),a=n(51609),i=n.n(a),s=n(88432),o=n(61445),l=n(39988),c=n(88887),u=n(28786),d=n(53411),f=n(27723),v=n(21587),p=n(91788),h=n(86274),g=function(t,e,n){if(n||2===arguments.length)for(var r,a=0,i=e.length;a<i;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))};const m=i().memo(function(t){var e=t.filter,n=t.filterValue,i=t.label,m=t.children,b=t.startDate,y=t.endDate,x=t.row,w=(0,s.R7)(),j=w.setFilters,_=w.filtersConf,N=w.getActiveFilters,k=(0,o.A)().getGoal,D=(0,l.G)(function(t){return t.setMetrics}),A=(0,l.G)(function(t){return t.getMetrics()}),O=(0,c.S)(function(t){return t.setStartDate}),M=(0,c.S)(function(t){return t.setEndDate}),S=(0,c.S)(function(t){return t.setRange}),I=(0,(0,h.A)().getValue)("filtering_by_domain"),P=(0,a.useMemo)(function(){return e&&_&&Object.prototype.hasOwnProperty.call(_,e)},[e,_]),T=(0,a.useMemo)(function(){if(!n)return!1;if(["page_url","referrer"].includes(e))return!0;try{return/^https?:\/\/.+/i.test(n)}catch(t){return!1}},[e,n]),C=(0,a.useCallback)(function(t){var r;t.stopPropagation();var a=n;if("page_url"===e&&!n.startsWith("http")){var i=(null===(r=window.burst_admin)||void 0===r?void 0:r.site_url)||window.location.origin;if(I){var s=N(),o=-1!==i.indexOf("https:")?"https://":"http://";Object.prototype.hasOwnProperty.call(x,"host")?i="".concat(o).concat(x.host):Object.prototype.hasOwnProperty.call(s,"host")&&(i="".concat(o).concat(s.host))}a="".concat(i).concat(n.startsWith("/")?"":"/").concat(n)}"referrer"!==e||n.startsWith("http")||(a="https://".concat(n)),window.open(a,"_blank","noopener,noreferrer")},[e,n]),F=(0,a.useMemo)(function(){return i?"".concat((0,f.__)("Click to filter by:","burst-statistics")," ").concat(i):(0,f.__)("Click to filter","burst-statistics")},[i]),E=(0,a.useMemo)(function(){return(0,f.__)("Open in new tab","burst-statistics")},[]),z=(0,a.useCallback)(function(){if(b){var t="",e="";if(/^\d+$/.test(b)){var n=10===b.toString().length?1e3*b:b;t=new Date(n).toISOString().split("T")[0]}else/\d{4}-\d{2}-\d{2}/.test(b)&&(t=b);y?/^\d+$/.test(y)?(n=10===y.toString().length?1e3*y:y,e=new Date(n).toISOString().split("T")[0]):/\d{4}-\d{2}-\d{2}/.test(y)&&(e=y):e=(new Date).toISOString().split("T")[0],(0,p.vd)(t)&&(0,p.vd)(e)&&(O(t),M(e),S("custom"))}},[b,y,O,M,S]),V=(0,a.useCallback)(function(t){var e=k(t);(null==e?void 0:e.goal_specific_page)?(j("page_url",e.goal_specific_page),j("goal_id",t),v.oR.info((0,f.__)("Filtering by goal & goal specific page","burst-statistics"))):(j("goal_id",t),v.oR.info((0,f.__)("Filtering by goal","burst-statistics"))),A.includes("conversions")||D(g(g([],A,!0),["conversions"],!1))},[k,j,A,D]),G=(0,a.useCallback)(function(t){t.stopPropagation(),P?("goal_id"===e?V(n):j(e,n),z()):console.warn('ClickToFilter: Invalid filter "'.concat(e,'" - not found in filter configuration'))},[e,n,P,V,j,z]);return e&&n&&P?(0,r.jsxs)("div",{className:"group flex items-center gap-2",children:[(0,r.jsx)("div",{className:"flex-1",children:m}),(0,r.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[(0,r.jsx)(u.A,{content:F,children:(0,r.jsx)("div",{onClick:G,className:"flex items-center justify-center w-6 h-6 bg-white/90 hover:bg-white border border-gray-200 rounded shadow-sm hover:shadow-md transition-all duration-150 cursor-pointer",children:(0,r.jsx)(d.A,{name:"filter",size:14,color:"black"})})}),T&&(0,r.jsx)(u.A,{content:E,children:(0,r.jsx)("div",{onClick:C,className:"flex items-center justify-center w-6 h-6 bg-white/90 hover:bg-white border border-gray-200 rounded shadow-sm hover:shadow-md transition-all duration-150 cursor-pointer",children:(0,r.jsx)(d.A,{name:"referrers",size:14,color:"black"})})})]})]}):(0,r.jsx)(r.Fragment,{children:m})})},11989:(t,e,n)=>{n.d(e,{t:()=>o});var r=n(91637),a=n(51609),i=n(2573),s=function(t){void 0===t&&(t="");var e=/\bp-\S+/.test(t),n=/\bpx-\S+/.test(t),r=/\bpy-\S+/.test(t),a=/\bpt-\S+/.test(t),i=/\bpr-\S+/.test(t),s=/\bpb-\S+/.test(t),o=/\bpl-\S+/.test(t),l=[];return e||n||l.push("px-2.5","md:px-6"),e||r||l.push("py-6"),e||n||o||l.push("pl-2.5","md:pl-6"),e||n||i||l.push("pr-2.5","md:pr-6"),e||r||a||l.push("pt-6"),e||r||s||l.push("pb-6"),l.join(" ")},o=(0,a.memo)(function(t){var e=t.children,n=t.className,a=void 0===n?"":n;return(0,r.jsx)("div",{className:(0,i.A)("flex-grow",s(a),a),children:e})});o.displayName="BlockContent"},27257:(t,e,n)=>{n.d(e,{p:()=>s});var r=n(91637),a=n(51609),i=n(2573),s=(0,a.memo)(function(t){var e=t.children,n=t.className,a=void 0===n?"":n;return(0,r.jsx)("div",{className:(0,i.A)(a,"flex items-center justify-between px-2.5 py-3 md:px-6"),children:e})});s.displayName="BlockFooter"},28786:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(91637),a=n(9564),i=n(27723);const s=function(t){var e=t.content,n=t.side,s=void 0===n?"top":n,o=t.hasArrow,l=void 0===o||o,c=t.delayDuration,u=void 0===c?300:c,d=t.children;return(0,r.jsx)(a.Kq,{delayDuration:u,children:(0,r.jsxs)(a.bL,{children:[(0,r.jsx)(a.l9,{"aria-label":(0,i.__)("Help information","burst-statistics"),onClick:function(t){t.preventDefault(),t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},children:d}),(0,r.jsxs)(a.UC,{side:s,sideOffset:5,className:"z-[99999] max-w-xs bg-gray-200 text-gray border border-gray-300 px-2 py-1.5 text-base rounded shadow-md\n            animate-in fade-in-50 data-[state=closed]:animate-out data-[state=closed]:fade-out-0\n            data-[state=delayed-open]:data-[side=top]:slide-in-from-bottom-2\n            data-[state=delayed-open]:data-[side=bottom]:slide-in-from-top-2\n            data-[state=delayed-open]:data-[side=left]:slide-in-from-right-2\n            data-[state=delayed-open]:data-[side=right]:slide-in-from-left-2",onClick:function(t){return t.stopPropagation()},children:["string"==typeof e?(0,i.__)(e,"burst-statistics"):e,l&&(0,r.jsx)(a.i3,{className:"fill-gray-300",width:10,height:5})]})]})})}},31980:(t,e,n)=>{n.d(e,{A:()=>a});var r=n(91637);const a=function(t){var e=t.children,n=t.className,a=void 0===n?"":n;return(0,r.jsx)("div",{className:"absolute inset-0 flex items-end justify-center bg-black/10 z-50 py-4 px-4 ".concat(a),children:(0,r.jsx)("div",{className:"bg-white rounded-lg px-5 py-3  w-[90%] max-w-md relative shadow-md",children:e})})}},39988:(t,e,n)=>{n.d(e,{G:()=>i});var r=n(30346),a=n(14243),i=(0,r.v)((0,a.Zr)(function(t,e){return{metrics:["visitors","pageviews"],loaded:!1,getMetrics:function(){if(e().loaded)return e().metrics;var n=e().metrics||["visitors","pageviews"];return n=n.filter(function(t){return"conversions"!==t}),t({metrics:n,loaded:!0}),n},setMetrics:function(e){t({metrics:e})}}},{name:"burst-insights-storage",partialize:function(t){return{metrics:t.metrics}},onRehydrateStorage:function(){return function(t){t&&t.metrics&&(t.metrics=t.metrics.filter(function(t){return"conversions"!==t}))}}}))},61445:(t,e,n)=>{n.d(e,{A:()=>h,l:()=>p});var r=n(61626),a=n(70802),i=n(78280),s=n(3663),o=n(21587),l=n(27723),c=n(89085),u=n(84400),d=function(){return d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},d.apply(this,arguments)},f=function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function o(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}l((r=r.apply(t,e||[])).next())})},v=function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},p=function(t){return t.map(function(e){var n=d({},e);if(e.react_conditions){var r=function(t,e){return!t||0===Object.keys(t).length||Object.entries(t).some(function(t){var n=t[0],r=t[1],a=e.find(function(t){return t.id===n});if(!a)return!1;var i=a.value;return!!i&&r.includes(i)})}(e.react_conditions,t);"disable"===e.condition_action?n.disabled=!r:n.conditionallyDisabled=!r}return n})};const h=function(){var t,e,n,p=(0,a.jE)(),h=(0,u.A)().isPro,g=(0,r.I)({queryKey:["goals_data"],queryFn:function(){return f(void 0,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:return[4,(0,s.DX)()];case 1:return[2,{goals:(t=e.sent()).goals||[],predefinedGoals:t.predefinedGoals||[],goalFields:Object.values(t.goalFields||{})}]}})})},retry:1}),m=(0,i.n)({mutationFn:function(){return f(void 0,void 0,void 0,function(){var t,e;return v(this,function(n){switch(n.label){case 0:return t=(null===(e=p.getQueryData(["goals_data"]))||void 0===e?void 0:e.goals)||[],[4,(0,s.d2)({goals:t})];case 1:return[2,n.sent()]}})})},onSuccess:function(){},onError:function(t){console.error(t),o.oR.error((0,l.__)("Failed to save goals","burst-statistics"))}}),b=(0,i.n)({mutationFn:function(t){return f(void 0,[t],void 0,function(t){var e,n=t.id,r=t.value;return v(this,function(t){switch(t.label){case 0:return e=[{id:n,title:r}],[4,(0,s.d2)({goals:e})];case 1:return[2,t.sent()]}})})},onError:function(t){console.error(t),o.oR.error((0,l.__)("Failed to save goal title","burst-statistics"))}}),y=(0,i.n)({mutationFn:function(){return f(void 0,void 0,void 0,function(){return v(this,function(t){switch(t.label){case 0:return[4,(0,s.D)()];case 1:return[2,t.sent()]}})})},onSuccess:function(t){p.setQueryData(["goals_data"],function(e){return e?(0,c.jM)(e,function(e){e.goals.push(t.goal)}):e}),o.oR.success((0,l.__)("Goal added successfully!","burst-statistics"))},onError:function(t){console.error(t),o.oR.error((0,l.__)("Failed to add goal","burst-statistics"))}}),x=(0,i.n)({mutationFn:function(t){return f(void 0,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return[4,(0,s.$x)(t)];case 1:return[2,e.sent()]}})})},onSuccess:function(t,e){t.deleted&&(p.setQueryData(["goals_data"],function(t){return t?(0,c.jM)(t,function(t){if(1===t.goals.length)t.goals=[];else{var n=t.goals.findIndex(function(t){return t.id===e});-1!==n&&t.goals.splice(n,1)}}):t}),o.oR.success((0,l.__)("Goal deleted successfully!","burst-statistics")))},onError:function(t){console.error(t),o.oR.error((0,l.__)("Failed to delete goal","burst-statistics"))}}),w=(0,i.n)({mutationFn:function(t){return f(void 0,[t],void 0,function(t){var e=t.predefinedGoalId;return v(this,function(t){switch(t.label){case 0:if(!h)throw new Error((0,l.__)("Predefined goals are a premium feature.","burst-statistics"));return[4,(0,s.ZI)(e)];case 1:return[2,t.sent()]}})})},onSuccess:function(t){p.setQueryData(["goals_data"],function(e){return e?(0,c.jM)(e,function(e){e.goals.push(t.goal)}):e}),o.oR.success((0,l.__)("Successfully added predefined goal!","burst-statistics"))},onError:function(t){console.error(t),o.oR.error(t.message||(0,l.__)("Failed to add predefined goal","burst-statistics"))}});return{goals:(null===(t=g.data)||void 0===t?void 0:t.goals)||[],goalFields:(null===(e=g.data)||void 0===e?void 0:e.goalFields)||[],predefinedGoals:(null===(n=g.data)||void 0===n?void 0:n.predefinedGoals)||[],isLoading:g.isLoading,isError:g.isError,getGoal:function(t){var e,n=(null===(e=g.data)||void 0===e?void 0:e.goals)||[];if(!Array.isArray(n))return!1;var r=n.findIndex(function(e){return e.id==t});return-1!==r&&n[r]},setGoalValue:function(t,e,n){p.setQueryData(["goals_data"],function(r){return r?(0,c.jM)(r,function(r){var a=r.goals.findIndex(function(e){return e.id===t});-1!==a&&(r.goals[a][e]=n)}):r})},updateGoal:function(t,e){p.setQueryData(["goals_data"],function(n){return n?(0,c.jM)(n,function(n){var r=n.goals.findIndex(function(e){return e.id===t});-1!==r&&(n.goals[r]=d(d({},n.goals[r]),e))}):n})},getGoalAsync:function(t){return f(void 0,void 0,void 0,function(){var e,n;return v(this,function(r){switch(r.label){case 0:return[4,p.ensureQueryData({queryKey:["goals_data"],queryFn:s.DX})];case 1:return e=r.sent(),[2,(null===(n=null==e?void 0:e.goals)||void 0===n?void 0:n.find(function(e){return String(e.id)===String(t)}))||null]}})})},saveGoals:m.mutateAsync,saveGoalTitle:function(t,e){return b.mutateAsync({id:t,value:e})},addGoal:y.mutateAsync,deleteGoal:x.mutateAsync,addPredefinedGoal:function(t){return w.mutateAsync({predefinedGoalId:t})},invalidateGoals:function(){return p.invalidateQueries(["goals_data"])}}}},67744:(t,e,n)=>{n.d(e,{q:()=>s});var r=n(91637),a=n(51609),i=n(2573),s=(0,a.memo)(function(t){var e=t.title,n=t.controls,a=t.className,s=void 0===a?"":a;return(0,r.jsxs)("div",{className:(0,i.A)(s,"flex min-h-14 items-center justify-between px-2.5 md:px-6 md:min-h-16 gap-4"),children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:e}),n]})});s.displayName="BlockHeading"},77902:(t,e,n)=>{n.d(e,{e:()=>s});var r=n(91637),a=n(2573),i=n(23130),s=(0,n(51609).memo)(function(t){var e=t.className,n=void 0===e?"":e,s=t.children;return(0,r.jsx)(i.A,{children:(0,r.jsx)("div",{className:(0,a.A)("col-span-12 flex flex-col rounded-xl bg-white shadow-sm relative border border-gray-300",n),children:s})})});s.displayName="Block"},88887:(t,e,n)=>{n.d(e,{S:()=>d});var r=n(30346),a=n(14243),i=n(67201),s=n(89717),o=n(72442),l=n(67072),c=n(91788),u=function(t){if(c.cA[t]){var e=c.cA[t].range(),n=e.startDate,r=e.endDate;return{startDate:(0,s.default)(n,"yyyy-MM-dd"),endDate:(0,s.default)(r,"yyyy-MM-dd"),range:t}}return null},d=(0,r.v)((0,a.Zr)(function(t){return{startDate:(0,s.default)((0,o.default)((0,l.A)(new Date,7)),"yyyy-MM-dd"),endDate:(0,s.default)((0,i.default)((0,l.A)(new Date,1)),"yyyy-MM-dd"),range:"last-7-days",setStartDate:function(e){return t({startDate:e})},setEndDate:function(e){return t({endDate:e})},setRange:function(e){if("custom"!==e){var n=u(e);n&&t(n)}else t({range:e})}}},{name:"burst-date-storage",partialize:function(t){return{range:t.range,startDate:t.startDate,endDate:t.endDate}},onRehydrateStorage:function(){return function(t){if(t&&t.range&&"custom"!==t.range){var e=u(t.range);e&&Object.assign(t,e)}}}}))},90594:(t,e,n)=>{n.r(e),n.d(e,{component:()=>Lt});var r=n(91637),a=n(51609),i=n(77902),s=n(67744),o=n(11989),l=n(27257),c=n(27723),u=n(53411),d=n(30346),f=n(14243),v=n(3663),p=function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function o(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}l((r=r.apply(t,e||[])).next())})},h=function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};const g=(0,d.v)((0,f.Zr)(function(t,e){return{filter:"all",tasks:[],filteredTasks:[],error:!1,loading:!0,setFilter:function(e){t({filter:e})},filterTasks:function(){var n=[];e().tasks.map(function(t){"completed"!==t.icon&&n.push(t)}),t(function(){return{filteredTasks:n}})},fixTask:function(t){return p(void 0,void 0,void 0,function(){return h(this,function(n){switch(n.label){case 0:return[4,(0,v.Eo)("fix_task",{task_id:t})];case 1:return n.sent(),e().getTasks(),[2]}})})},getTasks:function(){return p(void 0,void 0,void 0,function(){var n,r,a;return h(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,v.Eo)("tasks")];case 1:return n=i.sent().tasks,r=Array.isArray(n)?n:"object"==typeof n&&null!==n?Object.keys(n).filter(function(t){return Object.prototype.hasOwnProperty.call(n,t)&&!isNaN(t)}).map(function(t){return n[t]}):[],t(function(){return{tasks:r,loading:!1}}),e().filterTasks(),[3,3];case 2:return a=i.sent(),t(function(){return{error:a.message}}),[3,3];case 3:return[2]}})})},dismissTask:function(n){return p(void 0,void 0,void 0,function(){var r;return h(this,function(a){switch(a.label){case 0:return r=(r=e().tasks).filter(function(t){return t.id!==n}),t({tasks:r}),[4,(0,v.Eo)("dismiss_task",{id:n}).then(function(t){t.error&&console.error(t.error)})];case 1:return a.sent(),[2]}})})}}},{name:"burst-tasks-storage",partialize:function(t){return{filter:t.filter}}}));var m=n(28786),b=n(1),y=n.n(b),x=function(t){var e=t.html;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})," "]})},w=function(t){var e,n,a=t.value,i=t.sanitize;if(/<[^>]+>/.test(a)){var s=(e=a,(n=i)?n(e):y().sanitize(e,{ADD_ATTR:["target","rel","class","style"]}));return(0,r.jsx)(x,{html:s})}return(0,r.jsx)(r.Fragment,{children:a})};const j=function(t){var e=t.task,n=g(function(t){return t.fixTask});return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 pb-2.5",children:[(0,r.jsx)(_,{task:e}),e.msg&&(0,r.jsx)("p",{className:"flex-1 text-base text-black",children:w({value:e.msg})})," ",e.url&&(0,r.jsxs)("a",{target:e.url.startsWith("#")?"_self":"_blank",href:e.url,className:"text-blue underline cursor-pointer",children:["sale"===e.icon&&(0,c.__)("Get 40% Off","burst-statistics"),"offer"===e.icon&&(0,c.__)("Get 3 months free!","burst-statistics"),"offer"!==e.icon&&"sale"!==e.icon&&(0,c.__)("More info","burst-statistics")]}),e.fix&&(0,r.jsx)("span",{className:"text-blue underline cursor-pointer hover:text-blue-800 hover:no-underline",onClick:function(){return n(e.id,e.fix)},children:(0,c.__)("Fix","burst-statistics")}),e.plusone&&(0,r.jsx)("span",{className:"inline-block align-top box-border m-[1px_0_-1px_2px] py-0 px-1.5 min-w-[18px] h-[18px] rounded-[9px] bg-red text-white text-xs leading-[1.6] text-center",children:"1"}),e.dismissible&&"completed"!==e.status&&(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"[all:initial]",type:"button","data-id":e.id,onClick:t.onCloseTaskHandler,children:(0,r.jsx)("span",{className:"text-[1.5em] text-black hover:cursor-pointer hover:text-gray [&>svg]:h-[12px] [&>svg]:w-[12px]",children:(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0, 0, 400,400",children:(0,r.jsx)("path",{id:"path0",d:"M55.692 37.024 C 43.555 40.991,36.316 50.669,36.344 62.891 C 36.369 73.778,33.418 70.354,101.822 138.867 L 162.858 200.000 101.822 261.133 C 33.434 329.630,36.445 326.135,36.370 337.109 C 36.270 351.953,47.790 363.672,62.483 363.672 C 73.957 363.672,68.975 367.937,138.084 298.940 L 199.995 237.127 261.912 298.936 C 331.022 367.926,326.053 363.672,337.517 363.672 C 351.804 363.672,363.610 352.027,363.655 337.891 C 363.689 326.943,367.629 331.524,299.116 262.841 C 265.227 228.868,237.500 200.586,237.500 199.991 C 237.500 199.395,265.228 171.117,299.117 137.150 C 367.625 68.484,363.672 73.081,363.672 62.092 C 363.672 48.021,351.832 36.371,337.500 36.341 C 326.067 36.316,331.025 32.070,261.909 101.066 L 199.990 162.877 138.472 101.388 C 87.108 50.048,76.310 39.616,73.059 38.191 C 68.251 36.083,60.222 35.543,55.692 37.024 ",stroke:"none",fill:"#000000"})})})})})]})};var _=function(t){var e,n={milestone:{icon:"party-popper",color:"blue"},completed:{icon:"check",color:"green"},error:{icon:"error-octagon",color:"red"},sale:{icon:"percent",color:"green"},warning:{icon:"warning-triangle",color:"orange"},new:{icon:"campaign",color:"blue"},insight:{icon:"line-squiggle",color:"yellow"},skeleton:{icon:"loading",color:"blue"},default:{icon:"line-squiggle",color:"yellow"}},a=null!==(e=n[t.task.icon])&&void 0!==e?e:n.default;return(0,r.jsx)(m.A,{content:t.task.label,delayDuration:300,children:(0,r.jsx)("div",{className:"bg-white rounded-full p-1.5 mr-2 border border-gray-100 shadow-sm",children:(0,r.jsx)(u.A,{color:a.color,name:a.icon,size:16,strokeWidth:1.5})})})},N=n(61626),k=n(91788);const D=function(t){return e=void 0,n=void 0,a=function(){var e,n,r,a,i;return function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(s){switch(s.label){case 0:return e=t.startDate,n=t.endDate,r=t.range,a=t.filters,[4,(0,v.bQ)("live-visitors",e,n,r,{filters:a})];case 1:return i=s.sent().data,[2,(0,k.ZV)(null==i?void 0:i.visitors)]}})},new((r=void 0)||(r=Promise))(function(t,i){function s(t){try{l(a.next(t))}catch(t){i(t)}}function o(t){try{l(a.throw(t))}catch(t){i(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(t){t(n)})).then(s,o)}l((a=a.apply(e,n||[])).next())});var e,n,r,a};var A=function(){var t=(0,a.useRef)(5e3);return(0,N.I)({queryKey:["live-visitors"],queryFn:D,refetchInterval:t.current,placeholderData:"-",onError:function(){t.current=0},gcTime:1e4})},O=function(){return O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},O.apply(this,arguments)},M=function(t){void 0===t&&(t=!0);var e=function(t,e){return{groups:{},setActiveTab:function(e,n){return t(function(t){var r;return{groups:O(O({},t.groups),(r={},r[e]=n,r))}})},getActiveTab:function(t){return e().groups[t]}}};return t?(0,d.v)()((0,f.Zr)(e,{name:"burst-tabs-storage"})):(0,d.v)(e)},S=(M(),M(!1)),I=function(t){var e=function(t){var e,n=A(),r=parseInt(null!==(e=null==n?void 0:n.data)&&void 0!==e?e:0);return{live_visitors:{condition:function(){return 0<r}}}[t]||!1}(t.task.id),n=S(function(t){return t.setActiveTab}),a=A(),i=parseInt(a.data);if(!e)return null;if(!(0,e.condition)())return null;
// Translators: %d is the number of live visitors.
var s=(0,c.sprintf)((0,c._n)("%d person is exploring your site right now","%d people are exploring your site right now",i,"burst-statistics"),i);return(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 pb-2.5",children:[(0,r.jsx)("div",{className:"bg-white rounded-full p-1.5 mr-2 border border-gray-100 shadow-sm",children:(0,r.jsx)(u.A,{name:"line-squiggle",className:"text-yellow",color:"",size:16,strokeWidth:1.5})}),(0,r.jsx)("p",{className:"flex-1 text-base text-black",children:s}),(0,r.jsx)("span",{className:"text-blue underline cursor-pointer",onClick:function(){return n("dashboard-overview","live-visitors")},children:(0,c.__)("View","burst-statistics")})]})},P=n(30533),T=n(71882),C=function(){var t={id:"loading",condition:{type:"system",function:"loading"},msg:(0,c.__)("Loading tasks…","burst-statistics"),icon:"skeleton",dismissible:!1,plusone:!1,label:(0,c.__)("Loading…","burst-statistics")};return(0,r.jsx)(j,{task:t,onCloseTaskHandler:function(){}})},F=function(){var t={id:"no-tasks",condition:{type:"system",function:"completed"},msg:(0,c.__)("No remaining tasks to show","burst-statistics"),icon:"completed",dismissible:!1,plusone:!1,label:(0,c.__)("Completed","burst-statistics")};return(0,r.jsx)(j,{task:t,onCloseTaskHandler:function(){}})},E=function(t){var e=t.tasks,n=g(function(t){return t.dismissTask});return 0===e.length?(0,r.jsx)(T.P.div,{variants:nt(1),initial:"initial",animate:"animate",exit:"exit",children:(0,r.jsx)(F,{})},"no-tasks"):e.map(function(t,e){return(0,r.jsx)(T.P.div,{layout:!0,variants:nt(e),initial:"initial",animate:"animate",exit:"exit",children:(0,r.jsx)(j,{task:t,onCloseTaskHandler:function(){return n(t.id)}},t.id)},t.id)})},z=function(t){return t.tasks.map(function(t,e){return"live_visitors"===t.id?(0,r.jsx)(T.P.div,{layout:!0,variants:nt(e),initial:"initial",animate:"animate",exit:"exit",children:(0,r.jsx)(I,{task:t})},t.id):(0,r.jsx)(T.P.div,{layout:!0,variants:nt(e),initial:"initial",animate:"animate",exit:"exit",children:(0,r.jsx)(j,{task:t,onCloseTaskHandler:function(){}})},t.id)})};const V=function(){var t=g(function(t){return t.tasks}),e=g(function(t){return t.loading}),n=g(function(t){return t.getTasks});if((0,a.useEffect)(function(){n()},[n]),e)return(0,r.jsx)(C,{});var i=t.filter(function(t){return"clientside"===t.condition.type}),s=t.filter(function(t){return"clientside"!==t.condition.type});return(0,r.jsxs)(P.N,{mode:"popLayout",children:[(0,r.jsx)(z,{tasks:i}),(0,r.jsx)(E,{tasks:s})]})};var G=n(97813),L=n(50552);const q=function(){var t=(0,a.useState)("loading"),e=t[0],n=t[1],i=(0,a.useState)(0),s=i[0],o=i[1];(0,a.useMemo)(function(){v.Eo("tracking").then(function(t){if("beacon"===t.status||"rest"===t.status||"disabled"===t.status){var e=t.status?t.status:"error",r=t.last_test?t.last_test:(0,c.__)("Just now","burst-statistics");n(e),o(r)}else n("error"),o(!1)})},[]);var l=(0,c.__)("Last checked:","burst-statistics")+" "+(0,k.gs)(new Date(1e3*s)),d={loading:(0,c.__)("Loading tracking status…","burst-statistics"),error:(0,c.__)("Error checking tracking status","burst-statistics"),rest:(0,c.__)("Tracking with REST API","burst-statistics"),beacon:(0,c.__)("Tracking with an endpoint","burst-statistics"),disabled:(0,c.__)("Tracking is disabled","burst-statistics")},f={loading:{icon:"loading",color:"black"},error:{icon:"circle-times",color:"red"},rest:{icon:"circle-check",color:"green"},beacon:{icon:"circle-check",color:"green"},disabled:{icon:"circle-times",color:"red"}},p={loading:"",error:(0,c.__)("Tracking does not seem to work. Check manually or contact support.","burst-statistics"),rest:(0,c.__)("Tracking is working. You are using the REST API to collect statistics.","burst-statistics"),beacon:(0,c.__)("Tracking is working. You are using the Burst endpoint to collect statistics. This type of tracking is accurate and lightweight.","burst-statistics"),disabled:(0,c.__)("Tracking is disabled","burst-statistics")}[e]+" "+l,h=d[e],g=f[e].icon,m=f[e].color;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L.A,{btnVariant:"tertiary",link:{to:"/statistics"},children:(0,c.__)("View my statistics","burst-statistics")}),(0,r.jsx)(G.A,{content:p,children:(0,r.jsxs)("div",{className:"w-max text-gray flex items-center min-w-0 leading-none gap-1.5 no-underline burst-tooltip-trackingtext",children:[(0,r.jsx)(u.A,{name:g,color:m}),(0,r.jsx)("div",{children:h})]})})]})};const R=function(){return t=void 0,e=void 0,r=function(){return function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(t){switch(t.label){case 0:return[4,(0,v.bQ)("live-traffic")];case 1:return[2,t.sent().data]}})},new((n=void 0)||(n=Promise))(function(a,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function o(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}l((r=r.apply(t,e||[])).next())});var t,e,n,r};var U=n(98873),Q=n(50616),W=n(2573),Z=function(t){var e=t.children,n=t.className,i=(0,a.useRef)(null),s=(0,a.useState)(!1),o=s[0],l=s[1];(0,a.useEffect)(function(){var t=i.current;if(t){var e=function(){l(t.scrollWidth>t.clientWidth)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}},[e]);var c=(0,W.A)("truncate w-full",n),u=(0,r.jsx)("div",{ref:i,className:c,children:e});return o?(0,r.jsx)(G.A,{content:e,children:u}):u},B=(0,a.memo)(function(t){var e=t.timestamp,n=(0,a.useState)(""),i=n[0],s=n[1];return(0,a.useEffect)(function(){var t=function(){var t=Date.now()/1e3-e,n=Math.floor(t);if(60>n)s((0,c._n)("%s second ago","%s seconds ago",n,"burst-statistics").replace("%s",n));else{var r=Math.floor(n/60);s((0,c._n)("%s minute ago","%s minutes ago",r,"burst-statistics").replace("%s",r))}};t();var n=setInterval(t,1e3);return function(){return clearInterval(n)}},[e]),(0,r.jsx)("span",{className:"text-gray font-light break-all shrink-0",children:i})});B.displayName="TimeAgo";var K=function(t){var e,n=t.uid,a=t.entry,i=t.exit,s=(t.live,t.checkout),o=function(t){var e=["text-red","text-blue","text-orange","text-yellow","text-green"];return e[Array.from(String(t)).reduce(function(t,e){return t+e.charCodeAt(0)},0)%e.length]}(n);e=s?"shopping-cart":a?"log-in":i?"log-out":"line-squiggle";var l=function(t,e,n,a,i,s){var o;return o=s?(0,c.__)("User is checking out","burst-statistics"):n?(0,c.__)("User just entered the site","burst-statistics"):a?(0,c.__)("User just left the site","burst-statistics"):(0,c.__)("User is actively browsing","burst-statistics"),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsx)("div",{className:"font-medium text-gray-700",children:o}),(0,r.jsx)("div",{className:"space-y-1 text-gray-600",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:(0,c.__)("User ID:","burst-statistics")}),(0,r.jsx)("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs font-mono text-gray-800",children:t})]})})]})}(n,0,a,i,0,s);return(0,r.jsx)(m.A,{content:l,delayDuration:300,children:(0,r.jsx)("div",{className:"bg-white rounded-full p-1.5 mr-2 border border-gray-100 shadow-sm cursor-help",children:(0,r.jsx)(u.A,{name:e,className:o,color:"",size:16,strokeWidth:1.5})})})};const H=function(){var t=(0,a.useRef)(5e3),e=(0,a.useRef)(Date.now()),n=(0,N.I)({queryKey:["live-traffic"],queryFn:R,refetchInterval:t.current,placeholderData:"-",onError:function(){return t.current=0,void(e.current=Date.now())},gcTime:1e4}),i=Array.isArray(n.data)?n.data:[];return n.isLoading?(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("div",{children:(0,c.__)("Loading…","burst-statistics")})}):0===i.length?(0,r.jsx)(P.N,{mode:"popLayout",children:(0,r.jsx)(T.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6,delay:.1,ease:[.25,.1,.25,1]},className:"flex items-center justify-center flex-col h-full",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"bg-white rounded-full p-1 border border-gray-100 w-fit mb-3",children:(0,r.jsx)(U.A,{height:"16",width:"16",color:"currentColor",className:"text-green"})}),(0,r.jsx)("p",{className:"font-semibold text-gray mb-2",children:(0,c.__)("No live visitors right now","burst-statistics")}),(0,r.jsx)("p",{className:"text-gray",children:(0,c.__)("When someone visits your site, you’ll see them here instantly.","burst-statistics")})]})},"no-activity")}):(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(T.P.ul,{className:"flex flex-col gap-3 tracking-wide",layout:!0,children:(0,r.jsx)(P.N,{mode:"popLayout",children:i.map(function(t,e){var n=t.uid,a="";t.entry&&(a=function(t){if(!t)return(0,c.__)("Direct","burst-statistics");try{return(0,Q.S)(t).replace(/^www\./,"")}catch(t){return(0,c.__)("Direct","burst-statistics")}}(null==t?void 0:t.utm_source));var i="".concat(n,"-").concat(t.time);return(0,r.jsx)(T.P.li,{className:"flex items-center justify-between m-0",variants:nt(e),initial:"initial",animate:"animate",exit:"exit",layout:!0,children:(0,r.jsxs)("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[(0,r.jsx)(K,{uid:n,entry:t.entry,exit:t.exit,live:t.live,checkout:t.checkout}),(0,r.jsx)("span",{className:"font-medium text-black break-all shrink-0",children:t.page_url}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray font-light break-all shrink-0",children:"-"}),(0,r.jsx)(Z,{children:(0,r.jsx)("span",{className:"text-gray font-light break-all",children:a})})]}),(0,r.jsx)("span",{className:"text-gray font-light break-all",children:"-"}),(0,r.jsx)(B,{timestamp:t.active_time})]})},i)})})})})};function Y(t){var e=t.className,n=t.tabConfig,a=t.tabGroup;return(0,r.jsx)("div",{className:(0,W.A)("grid grid-flow-col auto-cols-fr gap-0.5 border border-gray-300 rounded-md bg-gray-200 p-0.5 shadow-sm",e),children:n.map(function(t,e){var n=0===e?"blue":1===e?"green":void 0;return(0,r.jsx)(J,{group:a,activeStyle:n,id:t.id,children:t.title},t.id)})})}var $=function(){return $=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},$.apply(this,arguments)},X=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n};function J(t){var e=t.group,n=t.id,a=t.className,i=t.activeStyle,s=t.children,o=t.onClick,l=X(t,["group","id","className","activeStyle","children","onClick"]),c=S(function(t){return t.getActiveTab(e)}),u=S(function(t){return t.setActiveTab}),d=c===n,f="green"===i?"green":"blue";return(0,r.jsx)("button",$({className:(0,W.A)("text-base px-4 py-1 transition-colors rounded-sm bg-white focus:outline-none text-gray-600 hover:text-gray-900 font-medium border border-transparent",{blue:['data-[active="true"]:bg-blue-lighter','data-[active="true"]:border-blue-darker','data-[active="true"]:text-[#1E73BE]'],green:['data-[active="true"]:bg-brand-lightest','data-[active="true"]:border-brand','data-[active="true"]:text-brand']}[f],a),onClick:function(t){u(e,n),null==o||o(t)},"data-active":d||void 0},l,{children:s}))}var tt=function(){return tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},tt.apply(this,arguments)};function et(t){var e=t.className,n=void 0===e?"":e,a=t.group,i=t.id,s=t.children,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}(t,["className","group","id","children"]);return(0,S().getActiveTab)(a)===i?(0,r.jsx)("div",tt({className:(0,W.$)("burst-scroll px-2.5 md:px-6 py-8 h-[305px] overflow-y-auto rounded-none",n)},o,{children:s})):null}var nt=function(t){return{initial:{opacity:0,y:-20},animate:{opacity:1,y:0,transition:{delay:.05*t,duration:.3,ease:"easeOut"}},exit:{opacity:0,y:30,transition:{duration:.3,ease:"easeIn"}}}};const rt=function(){var t="dashboard-overview",e=S(function(t){return t.getActiveTab("dashboard-overview")}),n=S(function(t){return t.setActiveTab});(0,a.useEffect)(function(){n(t,"activity")},[]);var u=[{id:"activity",title:(0,c.__)("Activity","burst-statistics")},{id:"live-visitors",title:(0,c.__)("Live visitors","burst-statistics")}];return(0,r.jsxs)(i.e,{className:"row-span-2 lg:col-span-12 xl:col-span-6",children:[(0,r.jsx)(s.q,{title:(0,c.__)("Overview","burst-statistics"),className:"border-b border-gray-200",controls:(0,r.jsx)(Y,{tabConfig:u,tabGroup:t})}),(0,r.jsxs)(o.t,{className:"px-0 py-0 border-b border-gray-200",children:["activity"===e&&(0,r.jsx)(et,{className:"bg-blue-light",group:t,id:"activity",children:(0,r.jsx)(V,{})}),"live-visitors"===e&&(0,r.jsx)(et,{className:"bg-brand-lightest",group:t,id:"live-visitors",children:(0,r.jsx)(H,{})})]}),(0,r.jsx)(l.p,{className:"gap-2",children:(0,r.jsx)(q,{})})]})};var at=function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].value="timeOnPage"===e?(0,k.fU)(t[e].value):(0,k.ZV)(t[e].value));return t};const it=function(t){return e=void 0,n=void 0,a=function(){var e,n,r,a,i;return function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(s){switch(s.label){case 0:return e=t.startDate,n=t.endDate,r=t.range,a=t.filters,[4,(0,v.bQ)("today",e,n,r,{filters:a})];case 1:return i=s.sent().data,[2,at(i)]}})},new((r=void 0)||(r=Promise))(function(t,i){function s(t){try{l(a.next(t))}catch(t){i(t)}}function o(t){try{l(a.throw(t))}catch(t){i(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(t){t(n)})).then(s,o)}l((a=a.apply(e,n||[])).next())});var e,n,r,a};var st=n(89717),ot=n(72442),lt=n(67201);function ct(t){return 100<(t=parseInt(t))?"visitors-crowd":10<t?"visitors":"visitor"}const ut=function(){var t=(0,a.useRef)(5e3),e=(0,a.useMemo)(function(){return(0,k.ii)()},[]),n=(0,a.useMemo)(function(){return(0,st.default)((0,ot.default)(e),"yyyy-MM-dd")},[e]),l=(0,a.useMemo)(function(){return(0,st.default)((0,lt.default)(e),"yyyy-MM-dd")},[e]),d=(0,a.useMemo)(function(){return{live:{title:(0,c.__)("Live","burst-statistics"),icon:"visitor"},today:{title:(0,c.__)("Total","burst-statistics"),value:"-",icon:"visitor"},mostViewed:{title:"-",value:"-"},pageviews:{title:"-",value:"-"},referrer:{title:"-",value:"-"},timeOnPage:{title:"-",value:"-"}}},[]),f=(0,N.I)({queryKey:["today",n,l],queryFn:function(){return it({startDate:n,endDate:l})},refetchInterval:2*t.current,placeholderData:d,onError:function(){return void(t.current=0)},gcTime:2e4}),v=A(),p=v.data,h=f.data;[v,f].some(function(t){return t.isError})&&(h=d);var g=ct(p||0),m="loading";return h&&h.today&&(m=ct(h.today.value?h.today.value:0)),(0,r.jsxs)(i.e,{className:"row-span-2 lg:col-span-6 xl:col-span-3 overflow-hidden",children:[(0,r.jsx)(s.q,{title:(0,c.__)("Today","burst-statistics"),controls:void 0,className:"border-b border-gray-200"}),(0,r.jsx)(o.t,{className:"px-0 py-0",children:(0,r.jsxs)("div",{className:"burst-today",children:[(0,r.jsxs)("div",{className:"px-2.5 py-6 md:px-5 grid w-full grid-cols-2 gap-4 bg-green-light",children:[(0,r.jsx)(G.A,{content:h.live.tooltip,children:(0,r.jsxs)("div",{className:"rounded-md flex flex-col justify-center text-center py-4 items-center flex-wrap bg-white burst-tooltip-live",children:[(0,r.jsx)(u.A,{name:g,size:"26"}),(0,r.jsx)("h2",{className:"mt-1.5 font-extrabold",children:p}),(0,r.jsxs)("span",{className:"flex gap-[3px] justify-center text-xs",children:[(0,r.jsx)(u.A,{name:"live",size:"12",color:"red"})," ",(0,c.__)("Live","burst-statistics")]})]})}),(0,r.jsx)(G.A,{content:h.today.tooltip,children:(0,r.jsxs)("div",{className:"rounded-md flex flex-col justify-center text-center py-4 items-center flex-wrap bg-white burst-tooltip-today",children:[(0,r.jsx)(u.A,{name:m,size:"26"}),(0,r.jsx)("h2",{className:"mt-1.5 font-extrabold",children:h.today.value}),(0,r.jsxs)("span",{className:"flex gap-[3px] justify-center text-xs",children:[(0,r.jsx)(u.A,{name:"total",size:"13",color:"green"})," ",(0,c.__)("Total","burst-statistics")]})]})})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(G.A,{content:h.mostViewed.tooltip,children:(0,r.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-2 py-2.5 px-2.5 md:px-6 even:bg-gray-100 burst-tooltip-mostviewed",children:[(0,r.jsx)(u.A,{name:"winner"}),(0,r.jsx)("p",{className:"burst-today-list-item-text w-full mr-auto",children:(0,Q.S)(h.mostViewed.title)}),(0,r.jsx)("p",{className:"font-semibold",children:h.mostViewed.value})]})}),(0,r.jsx)(G.A,{content:h.referrer.tooltip,children:(0,r.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-2 py-2.5 px-2.5 md:px-6 even:bg-gray-100 burst-tooltip-referrer",children:[(0,r.jsx)(u.A,{name:"referrer"}),(0,r.jsx)("p",{className:"burst-today-list-item-text w-full mr-auto overflow-x-auto scrollbar-hide",children:(0,Q.S)(h.referrer.title)}),(0,r.jsx)("p",{className:"font-semibold",children:h.referrer.value})]})}),(0,r.jsx)(G.A,{content:h.pageviews.tooltip,children:(0,r.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-2 py-2.5 px-2.5 md:px-6 even:bg-gray-100 burst-tooltip-pageviews",children:[(0,r.jsx)(u.A,{name:"pageviews"}),(0,r.jsx)("p",{className:"burst-today-list-item-text w-full mr-auto",children:h.pageviews.title}),(0,r.jsx)("p",{className:"font-semibold",children:h.pageviews.value})]})}),(0,r.jsx)(G.A,{content:h.timeOnPage.tooltip,children:(0,r.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-2 py-2.5 px-2.5 md:px-6 even:bg-gray-100 burst-tooltip-timeOnPage",children:[(0,r.jsx)(u.A,{name:"time"}),(0,r.jsx)("p",{className:"burst-today-list-item-text w-full mr-auto",children:h.timeOnPage.title}),(0,r.jsx)("p",{className:"font-semibold",children:h.timeOnPage.value})]})})]})]})})]})};var dt=n(8353);const ft=function(t){var e=t.data.status,n=function(t){return"active"===t?"green":"gray"}(e),a=function(t){switch(t){case"active":return(0,c.__)("Active","burst-statistics");case"inactive":return(0,c.__)("Inactive","burst-statistics");default:return(0,c.__)("Unknown","burst-statistics")}}(e);return(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(u.A,{name:"dot",color:n,size:12}),(0,r.jsx)("p",{className:"text-gray text-sm",children:a})]})};var vt=n(61445),pt=n(94304);const ht=function(t){var e=t.goals,n=t.goalId,a=t.setGoalId;if(0===e.length)return(0,r.jsx)(u.A,{name:"loading"});var i=e.map(function(t){return{value:t.id,label:t&&"string"==typeof t.title?t.title:(0,c.__)("Untitled goal","burst-statistics")}});return(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[1===e.length&&e[0]&&(0,r.jsx)("p",{children:e[0].title}),1<e.length&&(0,r.jsx)(pt.A,{value:n,onChange:function(t){return function(t){a(t)}(t)},options:i})]})};var gt=n(78031);const mt=function(t){return e=void 0,n=void 0,a=function(){var e,n,r,a,i;return function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(s){switch(s.label){case 0:return e=t.startDate,n=t.endDate,r=t.range,(a=t.goal_id)?[4,(0,v.bQ)("live-goals",e,n,r,{goal_id:a})]:[2,"-"];case 1:return i=s.sent().data,[2,(0,k.ZV)(null==i?void 0:i.goals_count)]}})},new((r=void 0)||(r=Promise))(function(t,i){function s(t){try{l(a.next(t))}catch(t){i(t)}}function o(t){try{l(a.throw(t))}catch(t){i(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(t){t(n)})).then(s,o)}l((a=a.apply(e,n||[])).next())});var e,n,r,a};var bt=function(){return bt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},bt.apply(this,arguments)},yt=function(t){var e,n,r,a,i,s,o,l,u,d,f;if(!t||"object"!=typeof t)return xt;var v=bt(bt(bt({},xt),t),{conversionPercentage:bt({title:(null===(e=null==t?void 0:t.conversionPercentage)||void 0===e?void 0:e.title)||"-",value:(null===(n=null==t?void 0:t.conversionPercentage)||void 0===n?void 0:n.value)||"-"},(null==t?void 0:t.conversionPercentage)||{}),conversionMetric:bt({title:(null===(r=null==t?void 0:t.conversionMetric)||void 0===r?void 0:r.title)||"-",value:(null===(a=null==t?void 0:t.conversionMetric)||void 0===a?void 0:a.value)||"-",icon:(null===(i=null==t?void 0:t.conversionMetric)||void 0===i?void 0:i.icon)||"visitors"},(null==t?void 0:t.conversionMetric)||{}),total:bt({title:(null===(s=null==t?void 0:t.total)||void 0===s?void 0:s.title)||(0,c.__)("Total","burst-statistics"),value:(null===(o=null==t?void 0:t.total)||void 0===o?void 0:o.value)||"-",icon:(null===(l=null==t?void 0:t.total)||void 0===l?void 0:l.icon)||"goals"},(null==t?void 0:t.total)||{}),bestDevice:bt({title:(null===(u=null==t?void 0:t.bestDevice)||void 0===u?void 0:u.title)||"-",value:(null===(d=null==t?void 0:t.bestDevice)||void 0===d?void 0:d.value)||"-",icon:(null===(f=null==t?void 0:t.bestDevice)||void 0===f?void 0:f.icon)||"desktop"},(null==t?void 0:t.bestDevice)||{})});for(var p in v.total.value&&"-"!==v.total.value&&v.conversionMetric.value&&"-"!==v.conversionMetric.value&&(v.conversionPercentage.value=(0,k.Nj)(v.total.value,v.conversionMetric.value)),v.bestDevice.value&&"-"!==v.bestDevice.value&&(v.bestDevice.value=(0,k.Ee)(v.bestDevice.value)),v)Object.prototype.hasOwnProperty.call(v,p)&&"conversionPercentage"!==p&&"bestDevice"!==p&&"object"==typeof v[p]&&null!==v[p]&&v[p].value&&"-"!==v[p].value&&!isNaN(Number(v[p].value))&&(v[p].value=(0,k.ZV)(v[p].value));return v.total.value&&v.conversionMetric.value&&v.conversionMetric.title?v.conversionPercentage.tooltip=(0,c.__)("Calculated by:","burst-statistics")+" "+(0,c.__)("Total amount of goals reached","burst-statistics")+" / "+(0,c.__)("Total amount of","burst-statistics")+" "+v.conversionMetric.title+" ("+v.total.value+" / "+v.conversionMetric.value+")":v.conversionPercentage.tooltip=(0,c.__)("No data available yet","burst-statistics"),v},xt={today:{title:(0,c.__)("Today","burst-statistics"),icon:"goals"},total:{title:(0,c.__)("Total","burst-statistics"),value:"-",icon:"goals"},topPerformer:{title:"-",value:"-"},conversionMetric:{title:"-",value:"-",icon:"visitors"},conversionPercentage:{title:"-",value:"-"},bestDevice:{title:"-",value:"-",icon:"desktop"},dateCreated:0,dateStart:0,dateEnd:0,status:"inactive"};const wt=function(t){return e=void 0,n=void 0,a=function(){var e,n,r,a,i,s;return function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,function(o){switch(o.label){case 0:if(e=t.startDate,n=t.endDate,r=t.range,!(a=t.goal_id))return[2,xt];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,v.bQ)("goals",e,n,r,{goal_id:a})];case 2:return i=o.sent().data,[2,yt(i)];case 3:return s=o.sent(),console.error("Error fetching goals data:",s),[2,xt];case 4:return[2]}})},new((r=void 0)||(r=Promise))(function(t,i){function s(t){try{l(a.next(t))}catch(t){i(t)}}function o(t){try{l(a.throw(t))}catch(t){i(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r(function(t){t(n)})).then(s,o)}l((a=a.apply(e,n||[])).next())});var e,n,r,a};var jt=n(31980),_t=function(){return _t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},_t.apply(this,arguments)},Nt=function(t){return 10<(t=parseInt(t))||0<t?"goals":"goals-empty"},kt=(0,a.memo)(function(t){var e=t.filter,n=t.filterValue,a=t.label,i=t.startDate,s=t.icon,o=t.count;return(0,r.jsx)(dt.A,{filter:e,filterValue:n,label:a,startDate:i,children:(0,r.jsxs)("div",{className:"rounded-md flex flex-col justify-center items-center text-center flex-wrap bg-white py-4 [&.active]:shadow-greenShadow [&.active]:border-2 [&.active]:border-green",children:[(0,r.jsx)(u.A,{name:s,size:"26"}),(0,r.jsx)("h2",{className:"mt-1.5 font-extrabold",children:o}),(0,r.jsxs)("span",{className:"flex gap-[3px] justify-center text-xs",children:[(0,r.jsx)(u.A,{name:"sun",color:"yellow",size:"13"})," ",(0,c.__)("Today","burst-statistics")]})]})})});kt.displayName="TodayFilterItem";var Dt=(0,a.memo)(function(t){var e=t.filter,n=t.filterValue,a=t.label,i=t.startDate,s=t.icon,o=t.count,l=t.endDate;return(0,r.jsx)(dt.A,{filter:e,filterValue:n,label:a,startDate:i,endDate:l,children:(0,r.jsxs)("div",{className:"rounded-md flex flex-col justify-center items-center text-center flex-wrap bg-white py-4 [&.active]:shadow-greenShadow [&.active]:border-2 [&.active]:border-green",children:[(0,r.jsx)(u.A,{name:s,size:"26"}),(0,r.jsx)("h2",{className:"mt-1.5 font-extrabold",children:o}),(0,r.jsxs)("span",{className:"flex gap-[3px] justify-center text-xs",children:[(0,r.jsx)(u.A,{name:"calendar",size:"13"})," ",(0,c.__)("Total","burst-statistics")]})]})})});Dt.displayName="TotalFilterItem";const At=(0,a.memo)(function(){var t,e,n,d,f,p,h,g,m,b,y,x,w,j,_,N,D,A,O=(0,a.useState)(15e3),M=O[0],S=O[1],I=(0,a.useState)(!1),P=I[0],T=I[1],C=(0,vt.A)(),F=C.goals,E=C.isLoading,z=(0,a.useMemo)(function(){return(0,k.ii)()},[]),V=(0,a.useMemo)(function(){return(0,st.default)((0,ot.default)(z),"yyyy-MM-dd")},[z]),q=(0,a.useMemo)(function(){return(0,st.default)((0,lt.default)(z),"yyyy-MM-dd")},[z]),R=(0,a.useMemo)(function(){return(0,st.default)(z,"yyyy-MM-dd")},[z]);(0,a.useEffect)(function(){!P&&0<F.length&&T(F[0].id)},[F,P]);var _x=(0,a.useMemo)(function(){var t,e,n=null===(t=F[P])||void 0===t?void 0:t.date_start,r=null===(e=F[P])||void 0===e?void 0:e.date_end;return 0!=n&&void 0!==n||(n=V),0!=r&&void 0!==r||(r=q),{goalStart:n,goalEnd:r}},[P,F,V,q]),U=_x.goalStart,W=_x.goalEnd,Z=(0,a.useMemo)(function(){return{goal_id:P,startDate:V,endDate:q}},[P,V,q]),B=(0,a.useMemo)(function(){return{today:{title:(0,c.__)("Today","burst-statistics"),icon:"goals"},total:{title:(0,c.__)("Total","burst-statistics"),value:"-",icon:"goals"},topPerformer:{title:"-",value:"-"},conversionMetric:{title:"-",value:"-",icon:"visitors"},conversionPercentage:{title:"-",value:"-"},bestDevice:{title:"-",value:"-",icon:"desktop"},dateCreated:0,dateStart:0,dateEnd:0,status:"inactive"}},[]),K=(0,gt.E)({queries:[{queryKey:["live-goals",P],queryFn:function(){return P?mt(Z):"0"},refetchInterval:M,placeholderData:"-",onError:function(t){console.error("Error fetching live goals:",t),S(0)},enabled:!!P},{queryKey:["goals",P],queryFn:function(){return P?wt(Z):B},refetchInterval:M,placeholderData:B,onError:function(t){console.error("Error fetching goals data:",t),S(0)},enabled:!!P}]}),H=(0,a.useCallback)(function(){burst_settings.goals_information_shown="1",(0,v.qN)("goals_information_shown",!0),window.location.hash="#settings/goals"},[]),Y=K.some(function(t){return t.isLoading})||E,$=K.some(function(t){return t.isError}),X=K[0].data||"-",J=$?B:K[1].data||B,tt=Nt(X),et=Nt(null===(t=J.today)||void 0===t?void 0:t.value),nt=(0,a.useMemo)(function(){var t;return{filter:"goal_id",filterValue:J.goalId,label:(null===(t=J.today)||void 0===t?void 0:t.tooltip)+(0,c.__)("Goal and today","burst-statistics"),startDate:R,icon:tt,count:X}},[J.goalId,null===(e=J.today)||void 0===e?void 0:e.tooltip,R,tt,X]),rt=(0,a.useMemo)(function(){var t,e;return{filter:"goal_id",filterValue:J.goalId,label:(null===(t=J.today)||void 0===t?void 0:t.tooltip)+(0,c.__)("Goal and the start date","burst-statistics"),startDate:U,endDate:W,icon:et,count:(null===(e=J.total)||void 0===e?void 0:e.value)||"-"}},[J.goalId,null===(n=J.today)||void 0===n?void 0:n.tooltip,U,W,et,null===(d=J.total)||void 0===d?void 0:d.value]);return(0,r.jsxs)(i.e,{className:"row-span-2 lg:col-span-6 xl:col-span-3",children:["0"===burst_settings.goals_information_shown&&(0,r.jsxs)(jt.A,{children:[(0,r.jsx)("h4",{className:"mb-4 text-lg font-bold",children:(0,c.__)("Goals","burst-statistics")}),(0,r.jsx)("p",{className:"mb-4",children:(0,c.__)("Keep track of customizable goals and get valuable insights. Add your first goal!","burst-statistics")}),(0,r.jsx)("p",{className:"mb-4",children:(0,r.jsx)("a",{className:"text-blue underline",href:(0,Q.U)("how-to-set-goals",{utm_source:"goals-block-overlay"}),children:(0,c.__)("Learn how to set your first goal","burst-statistics")})}),(0,r.jsx)(L.A,{onClick:H,btnVariant:"secondary",btnSize:"small",children:(0,c.__)("Create my first goal","burst-statistics")})]}),(0,r.jsx)(s.q,{title:(0,c.__)("Goals","burst-statistics"),controls:(0,r.jsx)(ht,{goalId:P,goals:F,setGoalId:T}),className:"border-b border-gray-200"}),(0,r.jsx)(o.t,{className:"px-0 py-0 relative",children:$?(0,r.jsx)("div",{className:"text-red p-4",children:(0,c.__)("Error loading goals data. Please try again later.","burst-statistics")}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"px-2.5 py-5 md:px-6 grid w-full grid-cols-2 gap-4 bg-yellow-light",children:[(0,r.jsx)(kt,_t({},nt)),(0,r.jsx)(Dt,_t({},rt))]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(G.A,{content:null===(f=J.topPerformer)||void 0===f?void 0:f.tooltip,children:(0,r.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-4 py-2.5 px-2.5 md:px-6 even:bg-gray-100",children:[(0,r.jsx)(u.A,{name:"winner"}),(0,r.jsx)("p",{className:"w-full mr-auto",children:(0,Q.S)((null===(p=J.topPerformer)||void 0===p?void 0:p.title)||"-")}),(0,r.jsx)("p",{className:"font-semibold",children:(null===(h=J.topPerformer)||void 0===h?void 0:h.value)||"-"})]})}),(0,r.jsx)(G.A,{arrow:!0,title:null===(g=J.conversionMetric)||void 0===g?void 0:g.tooltip,children:(0,r.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-4 py-2.5 px-2.5 md:px-6 even:bg-gray-100",children:[(0,r.jsx)(u.A,{name:(null===(m=J.conversionMetric)||void 0===m?void 0:m.icon)||"visitors"}),(0,r.jsx)("p",{className:"w-full mr-auto",children:(null===(b=J.conversionMetric)||void 0===b?void 0:b.title)||"-"}),(0,r.jsx)("p",{className:"font-semibold",children:(null===(y=J.conversionMetric)||void 0===y?void 0:y.value)||"-"})]})}),(0,r.jsx)(G.A,{content:null===(x=J.conversionPercentage)||void 0===x?void 0:x.tooltip,children:(0,r.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-4 py-2.5 px-2.5 md:px-6 even:bg-gray-100",children:[(0,r.jsx)(u.A,{name:"graph"}),(0,r.jsx)("p",{className:"w-full mr-auto",children:(null===(w=J.conversionPercentage)||void 0===w?void 0:w.title)||"-"}),(0,r.jsx)("p",{className:"font-semibold",children:(null===(j=J.conversionPercentage)||void 0===j?void 0:j.value)||"-"})]})}),(0,r.jsx)(G.A,{content:null===(_=J.bestDevice)||void 0===_?void 0:_.tooltip,children:(0,r.jsxs)("div",{className:"w-full grid justify-items-start grid-cols-auto-1fr-auto gap-4 py-2.5 px-2.5 md:px-6 even:bg-gray-100",children:[(0,r.jsx)(u.A,{name:(null===(N=J.bestDevice)||void 0===N?void 0:N.icon)||"desktop"}),(0,r.jsx)("p",{className:"w-full mr-auto",children:(null===(D=J.bestDevice)||void 0===D?void 0:D.title)||"-"}),(0,r.jsx)("p",{className:"font-semibold",children:(null===(A=J.bestDevice)||void 0===A?void 0:A.value)||"-"})]})})]})]})}),0!==F.length&&(0,r.jsxs)(l.p,{children:[burst_settings.manage_burst_statistics&&(0,r.jsx)("a",{className:"burst-button burst-button--secondary",href:"#settings/goals",children:(0,c.__)("View setup","burst-statistics")}),(0,r.jsx)("div",{className:"ml-auto",children:!Y&&!$&&(0,r.jsx)(ft,{data:J})})]})]})});var Ot=n(70),Mt=n.n(Ot),St=function(){return St=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},St.apply(this,arguments)};const It=function(){var t,e=(t=(0,N.I)({queryKey:["articles"],queryFn:function(){return(0,v.Eo)("get_article_data")},staleTime:1/0,refetchOnWindowFocus:!1}).data,Array.isArray(t)?t.map(function(t){return St(St({},t),{link:(0,Q.U)(t.link,{utm_source:"tips-tricks"})})}):[]);return(0,r.jsxs)(i.e,{className:"row-span-1 lg:col-span-6",children:[(0,r.jsx)(s.q,{title:(0,c.__)("Tips & Tricks","burst-statistics")}),(0,r.jsx)(o.t,{className:"py-0",children:(0,r.jsx)("div",{className:"flex flex-row flex-wrap mb-2.5 text-base leading-[1.7] gap-1.5 max-[992px]:overflow-hidden",children:e.map(function(t,e){return(0,r.jsx)("div",{className:"w-[calc(50%-4px)] max-[576px]:w-full",children:(0,r.jsxs)("a",{href:t.link,target:"_blank",title:Mt().decode(t.title.rendered),className:"group text-gray transition-colors duration-300 ease-in-out flex items-center gap-2.5 min-w-0 no-underline hover:text-primary hover:underline",children:[(0,r.jsx)("div",{className:"h-[13px] w-[13px] flex-none rounded-full transition-colors duration-300 ease-in-out group-[:visited]:bg-gray-300 bg-primary group-hover:!bg-primary medium"}),(0,r.jsx)("div",{className:"whitespace-nowrap overflow-hidden text-ellipsis hover:underline",children:Mt().decode(t.title.rendered)})]})},e)})})}),(0,r.jsx)(l.p,{children:(0,r.jsx)(L.A,{link:{to:(0,Q.U)("docs",{utm_source:"tips-tricks",utm_content:"view-all"})},btnVariant:"tertiary",children:(0,c.__)("View all","burst-statistics")})})]})};var Pt=n(70802),Tt=n(78280);const Ct=function(t){var e=t.size,n=void 0===e?24:e,a=t.color,i=void 0===a?"currentColor":a,s={black:"var(--rsp-black)",green:"var(--rsp-green)",yellow:"var(--rsp-yellow)",red:"var(--rsp-red)",blue:"var(--rsp-blue)",gray:"var(--rsp-grey-600)",white:"var(--rsp-white)"}[i]||i;return(0,r.jsxs)("svg",{version:"1.1",id:"logo-svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 916 186",height:n,children:[(0,r.jsx)("g",{id:"udp-logo-text",fill:s,children:(0,r.jsx)("g",{children:(0,r.jsx)("path",{d:"M214.17,38.15h18.01v63.53c0,13.27,8.66,20.81,21.92,20.81s22.06-7.54,22.06-20.95V38.15h18.01v63.53\n\t\t\t\t\t\t\t\t\t\tc0,22.2-16.06,37.28-39.94,37.28c-24.02,0-40.07-15.08-40.07-37.28V38.15z M306.33,66.08h16.2v5.17c0,2.65-0.28,4.89-0.28,4.89\n\t\t\t\t\t\t\t\t\t\th0.28c0,0,6.14-11.73,22.9-11.73c19.27,0,31.56,15.22,31.56,37.28c0,22.62-13.82,37.28-32.53,37.28c-14.1,0-20.39-9.77-20.39-9.77\n\t\t\t\t\t\t\t\t\t\th-0.28c0,0,0.28,2.51,0.28,6.14v29.88h-17.73V66.08z M341.24,124.03c9.77,0,17.87-7.96,17.87-22.06\n\t\t\t\t\t\t\t\t\t\tc0-13.54-7.26-22.34-17.73-22.34c-9.22,0-17.87,6.7-17.87,22.48C323.5,113.14,329.51,124.03,341.24,124.03z M416.22,64.41\n\t\t\t\t\t\t\t\t\t\tc15.64,0,20.53,9.08,20.53,9.08h0.28c0,0-0.14-1.81-0.14-4.05V38.15h17.73v99.14h-16.76v-5.86c0-2.65,0.28-4.61,0.28-4.61h-0.28\n\t\t\t\t\t\t\t\t\t\tc0,0-6,12.15-22.34,12.15c-19.27,0-31.56-15.22-31.56-37.28C383.97,79.07,397.37,64.41,416.22,64.41z M419.57,124.03\n\t\t\t\t\t\t\t\t\t\tc9.22,0,17.87-6.7,17.87-22.48c0-11.03-5.86-21.92-17.73-21.92c-9.77,0-17.87,7.96-17.87,22.06\n\t\t\t\t\t\t\t\t\t\tC401.84,115.23,409.1,124.03,419.57,124.03z M468.58,66.08h17.04v12.29c0,2.65-0.28,5.03-0.28,5.03h0.28\n\t\t\t\t\t\t\t\t\t\tc3.21-10.19,11.73-18.29,22.62-18.29c1.68,0,3.21,0.28,3.21,0.28v17.45c0,0-1.82-0.28-4.19-0.28c-7.54,0-16.06,4.33-19.41,14.94\n\t\t\t\t\t\t\t\t\t\tc-1.12,3.49-1.54,7.4-1.54,11.59v28.21h-17.73V66.08z M556.83,92.61h2.37v-0.98c0-9.36-5.87-12.57-13.68-12.57\n\t\t\t\t\t\t\t\t\t\tc-10.19,0-19.55,6.84-19.55,6.84l-6.7-12.71c0,0,11.03-8.8,27.93-8.8c18.71,0,29.6,10.33,29.6,28.35v44.54h-16.34v-5.86\n\t\t\t\t\t\t\t\t\t\tc0-2.79,0.28-5.03,0.28-5.03h-0.28c0.14,0-5.45,12.57-21.64,12.57c-12.71,0-24.16-7.96-24.16-22.2\n\t\t\t\t\t\t\t\t\t\tC514.67,94.15,545.24,92.61,556.83,92.61z M543.29,125.15c9.36,0,16.06-10.05,16.06-18.71v-1.67h-3.07\n\t\t\t\t\t\t\t\t\t\tc-9.08,0-23.74,1.26-23.74,11.17C532.54,120.68,536.03,125.15,543.29,125.15z M592.86,81.3h-8.8V67.2h8.8v-3.21\n\t\t\t\t\t\t\t\t\t\tc0-23.32,19.13-26.39,29.04-26.39c3.63,0,6,0.42,6,0.42V53.1c0,0-1.54-0.28-3.63-0.28c-5.03,0-13.68,1.26-13.68,11.59v2.79h15.22\n\t\t\t\t\t\t\t\t\t\tv14.1H610.6v55.99h-17.73V81.3z M635.17,81.3h-9.22V67.2h9.63V46.67h17.31V67.2h16.2v14.1h-16.2v27.65\n\t\t\t\t\t\t\t\t\t\tc0,11.73,9.22,13.41,14.1,13.41c1.96,0,3.21-0.28,3.21-0.28v15.5c0,0-2.09,0.42-5.45,0.42c-9.91,0-29.6-2.93-29.6-26.81V81.3z\n\t\t\t\t\t\t\t\t\t\tM684.46,39.55h32.12c17.04,0,29.74,10.75,29.74,28.49c0,17.73-12.71,28.76-29.74,28.76h-26.11v40.49h-6V39.55z M716.3,91.21\n\t\t\t\t\t\t\t\t\t\tc14.24,0,23.74-8.52,23.74-23.18c0-14.66-9.5-22.9-23.74-22.9h-25.83v46.08H716.3z M760.84,39.55h5.86v81.83\n\t\t\t\t\t\t\t\t\t\tc0,9.77,5.03,10.89,8.24,10.89c1.12,0,2.09-0.14,2.09-0.14v5.45c0,0-1.26,0.28-2.51,0.28c-4.05,0-13.68-1.54-13.68-14.66V39.55z\n\t\t\t\t\t\t\t\t\t\tM789.89,67.48h5.86v42.17c0,12.15,1.54,23.6,17.17,23.6c17.45,0,28.62-15.36,28.62-31.7V67.48h5.86v69.82h-5.86v-12.29\n\t\t\t\t\t\t\t\t\t\tc0-3.21,0.56-5.72,0.56-5.72h-0.28c-2.37,6.56-12.01,19.69-28.9,19.69c-17.17,0-23.04-9.5-23.04-27.23V67.48z M866.96,124.45\n\t\t\t\t\t\t\t\t\t\tc0,0,7.82,8.8,21.64,8.8c8.52,0,16.06-4.47,16.06-13.12c0-17.73-38.4-12.71-38.4-35.47c0-12.43,10.47-18.85,22.34-18.85\n\t\t\t\t\t\t\t\t\t\tc14.24,0,20.67,7.54,20.67,7.54l-3.49,4.75c0,0-5.73-6.56-17.59-6.56c-7.96,0-15.78,3.63-15.78,12.71\n\t\t\t\t\t\t\t\t\t\tc0,18.15,38.4,12.71,38.4,35.89c0,11.17-9.5,18.85-22.34,18.85c-16.9,0-25.27-10.05-25.27-10.05L866.96,124.45z"})})}),(0,r.jsx)("path",{fill:s,id:"udp-logo-icon",d:"M54.59,13.72L54.59,13.72c-0.07,0.04-0.14,0.07-0.22,0.1C54.37,13.82,54.56,13.73,54.59,13.72z M93.31,4.74\n\t\t\t\t\t\t\t\tc-10.72,0-20.99,1.93-30.49,5.44l-0.01-0.02c-2.87,1.06-5.52,2.2-8.23,3.55c2.82-1.32,5,1.58,5.15,6.59v72.56\n\t\t\t\t\t\t\t\tc0,18.54,15.03,33.57,33.57,33.57c18.54,0,33.57-15.03,33.57-33.57V57.53h-10.35l23.26-27.99l0.44-0.52l0.25-0.31l23.95,28.82\n\t\t\t\t\t\t\t\th-10.36v32.11c0.05,1.07,0.09,2.15,0.09,3.24c0,33.61-27.25,60.85-60.85,60.85c-33.61,0-60.85-27.24-60.85-60.85\n\t\t\t\t\t\t\t\tc0-0.98,0.03-1.95,0.08-2.92V40.67c0-7.15-3.51-7.76-4.67-6.75c0,0-0.04,0.03-0.04,0.03C13.76,49.56,5.18,70.2,5.18,92.87\n\t\t\t\t\t\t\t\tc0,48.67,39.46,88.13,88.13,88.13c48.67,0,88.13-39.46,88.13-88.13C181.44,44.2,141.98,4.74,93.31,4.74z"})]})};var Ft=function(){return Ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},Ft.apply(this,arguments)},Et=function(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(t){try{l(r.next(t))}catch(t){i(t)}}function o(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,o)}l((r=r.apply(t,e||[])).next())})},zt=function(t,e){var n,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Vt=function(t,e,n){if(n||2===arguments.length)for(var r,a=0,i=e.length;a<i;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))};const Gt=function(){var t=(0,Pt.jE)(),e=function(t){return{download:(0,c.__)("Install","burst-statistics"),activate:(0,c.__)("Activate","burst-statistics"),activating:(0,c.__)("Activating…","burst-statistics"),downloading:(0,c.__)("Downloading…","burst-statistics"),"upgrade-to-pro":(0,c.__)("Downloading…","burst-statistics")}[t]},n=(0,N.I)({queryKey:["otherPluginsData"],queryFn:function(){return Et(void 0,void 0,void 0,function(){var t;return zt(this,function(n){switch(n.label){case 0:return[4,v.Eo("otherpluginsdata")];case 1:return t=n.sent(),[2,(t=Object.values(t)).map(function(t){return Ft(Ft({},t),{pluginActionNice:e(t.action)})})]}})})},staleTime:1/0,refetchOnWindowFocus:!1}),a=n.data,l=void 0===a?[]:a,d=n.isLoading,f=(0,Tt.n)({mutationFn:function(t){return Et(void 0,void 0,void 0,function(){return zt(this,function(e){switch(e.label){case 0:return[4,v.Eo("plugin_actions",t)];case 1:return[2,e.sent()]}})})},onSuccess:function(n,r){var a=r.slug;t.setQueryData(["otherPluginsData"],function(t){return t.map(function(t){return t.slug===a?Ft(Ft({},n),{pluginActionNice:e(n.action)}):t})}),n.action&&"installed"!==n.action&&"upgrade-to-pro"!==n.action&&p(a,n.action)}}),p=function(n,r,a){if(a&&a.preventDefault(),"installed"!==r&&"upgrade-to-pro"!==r){var i=function(t){return l.find(function(e){return e.slug===t})}(n);i&&(t.setQueryData(["otherPluginsData"],function(t){return t.map(function(t){if(t.slug===n){var a="download"===r?"downloading":"activate"===r?"activating":r;return Ft(Ft({},t),{action:a,pluginActionNice:e(a)})}return t})}),f.mutate({slug:n,action:r}))}};return d?(0,r.jsxs)(i.e,{className:"bg-wp-gray row-span-1 shadow-transparent border-wp-gray lg:col-span-6",children:[(0,r.jsx)(s.q,{className:"burst-column-2 no-border no-background",title:(0,c.__)("Other plugins","burst-statistics"),controls:(0,r.jsx)(Ct,{size:24,color:"gray"})}),(0,r.jsx)(o.t,{children:(0,r.jsx)("div",{className:"!flex flex-row flex-wrap mb-[10px] text-base gap-1.5 max-[992px]:flex-row max-[992px]:overflow-hidden",children:Vt([],Array(3),!0).map(function(t,e){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("a",{children:[(0,r.jsx)("div",{className:"bg-gray-400 transition-colors duration-300 ease-in-out"}),(0,r.jsx)("div",{className:"truncate",children:(0,c.__)("Loading..","burst-statistics")})]}),(0,r.jsx)("div",{className:"min-w-fit burst-other-plugin-status",children:(0,c.__)("Activate","burst-statistics")})]},e)})})})]}):(0,r.jsxs)(i.e,{className:"bg-wp-gray row-span-1 shadow-transparent border-wp-gray lg:col-span-6",children:[(0,r.jsx)(s.q,{title:(0,c.__)("Other plugins","burst-statistics"),controls:(0,r.jsx)(Ct,{size:24,color:"gray"})}),(0,r.jsx)(o.t,{children:(0,r.jsx)("div",{className:"!flex flex-row flex-wrap mb-[10px] text-base gap-1.5 max-[992px]:flex-row max-[992px]:overflow-hidden",children:l.map(function(t){return function(t){var e,n;["installed","upgrade-to-pro"].includes(t.action)?(e="check",n="white"):["activate"].includes(t.action)?(e="check",n="gray"):(e="circle-open",n="gray");var a="gray-400";switch(t.slug){case"really-simple-ssl":a="yellow";break;case"burst-statistics":a="green";break;case"complianz-gdpr":a="blue";break;case"complianz-terms-conditions":a="black"}var i=burst_settings.can_install_plugins;return(0,r.jsxs)("div",{className:"\n        burst-other-plugins-element burst-".concat(t.slug,"\n        w-full\n        flex\n        content-between\n        justify-between\n        gap-[10px]\n        [&_a]:w-max\n        [&_a]:text-gray\n        [&_a]:transition-colors\n        [&_a]:duration-300\n        [&_a]:ease-in-out\n        [&_a]:flex\n        [&_a]:items-center\n        [&_a]:min-w-0\n        [&_a]:gap-2.5\n        [&_a]:no-underline\n        [&_a:hover]:underline\n        [&_a:hover]:text-").concat(a,"\n    \t[&_a>.burst-bullet:hover]:bg-").concat(a),children:[(0,r.jsxs)("a",{href:t.wordpress_url,target:"_blank",title:t.title,children:[(0,r.jsx)("div",{className:["installed","upgrade-to-pro"].includes(t.action)?"bg-green rounded-full":"",children:(0,r.jsx)(u.A,{strokeWidth:3,name:e,color:n,size:14})}),(0,r.jsx)("div",{className:"truncate",children:t.title})]}),i&&(0,r.jsxs)("div",{className:"min-w-fit burst-other-plugin-status",children:["upgrade-to-pro"===t.action&&(0,r.jsx)("a",{target:"_blank",href:t.upgrade_url,children:(0,c.__)("Upgrade","burst-statistics")}),"upgrade-to-pro"!==t.action&&"installed"!==t.action&&(0,r.jsx)("a",{href:"#",onClick:function(e){return p(t.slug,t.action,e)},children:t.pluginActionNice}),"installed"===t.action&&(0,r.jsx)(r.Fragment,{children:(0,c.__)("Installed","burst-statistics")})]})]},t.slug)}(t)})})})]})};function Lt(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(rt,{}),(0,r.jsx)(ut,{}),(0,r.jsx)(At,{}),(0,r.jsx)(It,{}),(0,r.jsx)(Gt,{})]})}n(97060)},91788:(t,e,n)=>{n.d(e,{Ad:()=>T,BM:()=>x,Ee:()=>N,Iq:()=>D,Nj:()=>m,YP:()=>I,Yo:()=>F,ZV:()=>_,cA:()=>M,cf:()=>S,fU:()=>j,fs:()=>b,gs:()=>g,ii:()=>A,kz:()=>E,oI:()=>y,qQ:()=>k,vd:()=>w,vv:()=>C});var r=n(38443),a=n(71109),i=n(18553),s=n(44184),o=n(67201),l=n(73177),c=n(52368),u=n(89717),d=n(48145),f=n(72442),v=n(6374),p=n(58357),h=n(27723),g=function(t,e){if(void 0===e&&(e=new Date),"number"==typeof t&&(t=new Date(1e3*t)),!(t instanceof Date))return"-";var n={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},r=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),a=t-e;for(var i in n)if(Math.abs(a)>n[i]||"second"===i)return r.format(Math.round(a/n[i]),i);return"-"},m=function(t,e,n){void 0===n&&(n=!0);var r=(t=Number(t))/(e=Number(e));return isNaN(r)&&(r=0),n?new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1}).format(r):r};function b(t,e){var n={},r=((t=Number(t))-(e=Number(e)))/e;return isNaN(r)&&(r=0),n.val=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1,signDisplay:"exceptZero"}).format(r),n.status=0<r?"positive":"negative",r===1/0&&(n.val="",n.status="positive"),n}function y(t,e){var n={},r=((t=Number(t))-(e=Number(e)))/100;return isNaN(r)&&(r=0),n.val=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:1,signDisplay:"exceptZero"}).format(r),n.status=0<r?"positive":"negative",r===1/0&&(n.val="",n.status="positive"),n}var x=function(t){return(0,r.dateI18n)(burst_settings.date_format,new Date(1e3*t))},w=function(t){return t&&("number"==typeof t||Date.parse(t)>=16409952e5)};function j(t){void 0===t&&(t=0);var e=Number(t);isNaN(e)&&(e=0);var n=Math.floor(e/1e3),r=Math.floor(n/3600),a=Math.floor((n-3600*r)/60),i=n-3600*r-60*a,s=function(t){return isNaN(t)?"00":String(t).padStart(2,"0")};return 0===r?[a,i].map(s).join(":"):[r,a,i].map(s).join(":")}function _(t,e){return void 0===e&&(e=1),t=Number(t),isNaN(t)&&(t=0),1e3>t&&(e=0),new Intl.NumberFormat(void 0,{style:"decimal",notation:"compact",compactDisplay:"short",maximumFractionDigits:e}).format(t)}function N(t,e){return void 0===e&&(e=1),t=Number(t),isNaN(t)&&(t=0),0===t?"0%":0<t&&.1>t?"<0.1%":new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:e}).format(t/100)}function k(t){return t?burst_settings.countries[t.toUpperCase()]||(0,h.__)("Not set","burst-statistics"):(0,h.__)("Unknown","burst-statistics")}function D(t){return t?burst_settings.continents[t.toUpperCase()]||(0,h.__)("Not set","burst-statistics"):(0,h.__)("Unknown","burst-statistics")}function A(t){void 0===t&&(t=new Date);var e=-60*t.getTimezoneOffset(),n=Math.floor(t.getTime()/1e3)+3600*burst_settings.gmt_offset-e;return new Date(1e3*n)}var O=A(),M={today:{label:(0,h.__)("Today","burst-statistics"),range:function(){return{startDate:(0,f.default)(O),endDate:(0,o.default)(O)}}},yesterday:{label:(0,h.__)("Yesterday","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(O,-1)),endDate:(0,o.default)((0,a.default)(O,-1))}}},"last-7-days":{label:(0,h.__)("Last 7 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(O,-7)),endDate:(0,o.default)((0,a.default)(O,-1))}}},"last-30-days":{label:(0,h.__)("Last 30 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(O,-30)),endDate:(0,o.default)((0,a.default)(O,-1))}}},"last-90-days":{label:(0,h.__)("Last 90 days","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(O,-90)),endDate:(0,o.default)((0,a.default)(O,-1))}}},"last-month":{label:(0,h.__)("Last month","burst-statistics"),range:function(){return{startDate:(0,v.default)((0,i.default)(O,-1)),endDate:(0,l.default)((0,i.default)(O,-1))}}},"week-to-date":{label:(0,h.__)("Week to date","burst-statistics"),range:function(){return{startDate:(0,f.default)((0,a.default)(O,-O.getDay())),endDate:(0,o.default)(O)}}},"month-to-date":{label:(0,h.__)("Month to date","burst-statistics"),range:function(){return{startDate:(0,v.default)(O),endDate:(0,o.default)(O)}}},"year-to-date":{label:(0,h.__)("Year to date","burst-statistics"),range:function(){return{startDate:(0,p.A)(O),endDate:(0,o.default)(O)}}},"last-year":{label:(0,h.__)("Last year","burst-statistics"),range:function(){return{startDate:(0,p.A)((0,s.default)(O,-1)),endDate:(0,c.A)((0,s.default)(O,-1))}}}},S=function(t){return Object.values(t).filter(Boolean).map(function(t){var e=M[t];return e.isSelected=P,e})},I=function(t,e){var n="MMMM d, yyyy";return{startDate:t?(0,u.default)(new Date(t),n):"",endDate:e?(0,u.default)(new Date(e),n):""}};function P(t){var e=this.range();return(0,d.default)(t.startDate,e.startDate)&&(0,d.default)(t.endDate,e.endDate)}function T(t,e){if(void 0===e&&(e={}),!t||!e[t])return function(t){return _(t)};var n=e[t],r=n.isPercentage,a=n.isTime,i=n.precision,s=n.suffix;return function(t){if(null==t)return"";if(r)return N(t,i);if(a)return j(t);var e=_(t,i);return s&&(e+=s),e}}function C(t,e){return new Intl.NumberFormat(void 0,{style:"currency",currency:t,maximumFractionDigits:2,minimumFractionDigits:2,trailingZeroDisplay:"stripIfInteger"}).format(e)}function F(t,e){return new Intl.NumberFormat(void 0,{style:"currency",currency:t,notation:"compact",compactDisplay:"short",maximumFractionDigits:1}).format(e)}function E(t){if(!t)return"";try{var e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?"":new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}catch(t){return""}}},94304:(t,e,n)=>{n.d(e,{A:()=>d});var r=n(91637),a=n(51609),i=n.n(a),s=n(42617),o=n(2573),l=n(53411),c=function(){return c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},c.apply(this,arguments)},u=i().forwardRef(function(t,e){var n,a=t.value,i=t.onChange,o=t.options,c=(void 0===(n=void 0===o?[]:o)&&(n=[]),Array.isArray(n)?n:Object.entries(n).map(function(t){var e=t[0],n=t[1];return{value:e,label:String(n)}}));return(0,r.jsxs)(s.bL,{value:a,onValueChange:function(t){return i(t)},children:[(0,r.jsxs)(s.l9,{ref:e,className:"inline-flex items-center justify-center gap-1 rounded bg-white text-base leading-none outline outline-gray-400 px-2 py-2 hover:bg-gray-100 focus:shadow-[0_0_0_2px]",children:[(0,r.jsx)(s.WT,{placeholder:"Select an option…"}),(0,r.jsx)(s.In,{className:"text-base",children:(0,r.jsx)(l.A,{name:"chevron-down",color:"black",size:16,tooltip:"",className:""})})]}),(0,r.jsx)(s.ZL,{container:document.getElementById("modal-root"),children:(0,r.jsxs)(s.UC,{className:"bg-gray-100 text-black border border-gray-400 rounded-md shadow-lg ring-1 ring-black/5 z-[100] shadow-gray-400/50",position:"item-aligned",children:[(0,r.jsx)(s.PP,{className:"",children:(0,r.jsx)(l.A,{name:"chevron-up",color:"black",size:16,tooltip:"",className:""})}),(0,r.jsx)(s.LM,{className:"",children:c.map(function(t){return(0,r.jsx)(f,{value:t.value,children:t.label},t.value)})}),(0,r.jsx)(s.wn,{className:"text-base",children:(0,r.jsx)(l.A,{name:"chevron-down",color:"white",size:16,tooltip:"",className:""})})]})})]})});u.displayName="SelectInput";const d=u;var f=i().forwardRef(function(t,e){var n=t.children,a=t.className,i=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}(t,["children","className"]);return(0,r.jsxs)(s.q7,c({ref:e,className:(0,o.$)("cursor-default px-2 py-2 text-base select-none flex items-center gap-1 flex-row overflow-hidden","hover:bg-gray-300 hover:text-black","focus:bg-gray-300","transition-all duration-200",a)},i,{children:[(0,r.jsx)("div",{className:"w-4 flex items-center",children:(0,r.jsx)(s.VF,{children:(0,r.jsx)(l.A,{name:"check",color:"black",size:16,tooltip:"",className:""})})}),(0,r.jsx)(s.p4,{children:n}),(0,r.jsx)("div",{className:"w-4 flex items-center"})]}))});f.displayName="SelectItem"}}]);